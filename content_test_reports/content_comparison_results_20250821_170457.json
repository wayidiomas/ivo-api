{
  "metadata": {
    "timestamp": "2025-08-21T17:04:57.294328",
    "base_url": "http://localhost:8000",
    "total_tests": 22,
    "successful_tests": 13,
    "success_rate": 59.09090909090909,
    "test_ids": {
      "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
      "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
      "unit_no_image": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
      "unit_with_image": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e"
    },
    "rate_limiting": {
      "enabled": true,
      "limits": {
        "default": 2.0,
        "create_unit": 3.0,
        "generate_content": 5.0,
        "generate_vocabulary": 8.0,
        "generate_sentences": 8.0,
        "generate_tips": 8.0,
        "generate_qa": 8.0,
        "generate_grammar": 8.0,
        "generate_assessments": 8.0
      },
      "purpose": "Evitar sobrecarga e respeitar limites da OpenAI API"
    }
  },
  "comparison_stats": {
    "no_image_tests": 12,
    "no_image_success": 9,
    "with_image_tests": 10,
    "with_image_success": 4
  },
  "generated_content": {
    "NO_IMAGE": {
      "CONTEXT": [
        {
          "timestamp": "2025-08-21T16:57:29.560912",
          "data": {
            "success": true,
            "data": {
              "unit_data": {
                "id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                "sequence_order": 1,
                "title": "Unidade Hotel reservations and check-i...",
                "main_aim": null,
                "subsidiary_aims": [],
                "context": "Hotel reservations and check-in procedures. Learning how to book rooms, ask for amenities, and handle check-in/check-out processes in English.",
                "cefr_level": "A1",
                "language_variant": "american_english",
                "unit_type": "lexical_unit",
                "images": [],
                "vocabulary": {
                  "items": [
                    {
                      "word": "room",
                      "example": "I'd like a room for two nights.",
                      "phoneme": "/ruːm/",
                      "definition": "quarto (no hotel)",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.98,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "reservation",
                      "example": "I have a reservation under Silva.",
                      "phoneme": "/ˌrɛzərˈveɪʃən/",
                      "definition": "reserva",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 4,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.97,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "book",
                      "example": "I'd like to book a single room, please.",
                      "phoneme": "/bʊk/",
                      "definition": "reservar",
                      "word_class": "verb",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.96,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "check in",
                      "example": "We check in at 2 PM.",
                      "phoneme": "/tʃɛk ɪn/",
                      "definition": "fazer check-in; registrar a entrada",
                      "word_class": "phrasal verb",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.99,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "check out",
                      "example": "What time is check-out tomorrow?",
                      "phoneme": "/tʃɛk aʊt/",
                      "definition": "fazer check-out; pagar e sair",
                      "word_class": "phrasal verb",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.99,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "key",
                      "example": "Here is your room key.",
                      "phoneme": "/kiː/",
                      "definition": "chave (ou cartão da porta)",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.95,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "passport",
                      "example": "Please show me your passport at the desk.",
                      "phoneme": "/ˈpæspɔrt/",
                      "definition": "passaporte / documento de identificação",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.95,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "price",
                      "example": "What is the price per night?",
                      "phoneme": "/praɪs/",
                      "definition": "preço / valor",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.93,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "night",
                      "example": "We need two nights, from Monday to Wednesday.",
                      "phoneme": "/naɪt/",
                      "definition": "noite (duração da estadia)",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.92,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "breakfast",
                      "example": "Is breakfast included with the room?",
                      "phoneme": "/ˈbrɛkfəst/",
                      "definition": "café da manhã; pequeno-almoço",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.94,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "towel",
                      "example": "Can I have an extra towel, please?",
                      "phoneme": "/ˈtaʊəl/",
                      "definition": "toalha",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.88,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "parking",
                      "example": "Is parking available at the hotel?",
                      "phoneme": "/ˈpɑrkɪŋ/",
                      "definition": "estacionamento",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.85,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "available",
                      "example": "Do you have a room available for Friday?",
                      "phoneme": "/əˈveɪləbəl/",
                      "definition": "disponível",
                      "word_class": "adjective",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 3,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.96,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "included",
                      "example": "Is breakfast included in the price?",
                      "phoneme": "/ɪnˈkludɪd/",
                      "definition": "incluído",
                      "word_class": "adjective",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 3,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.94,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    }
                  ],
                  "total_count": 14,
                  "generated_at": "2025-08-21T19:43:04.155036",
                  "new_words_count": 14,
                  "phoneme_coverage": {
                    "coverage_score": 96,
                    "total_unique_phonemes": 29
                  },
                  "rag_context_used": {
                    "used_strategies": [],
                    "progression_level": "high_frequency_basic",
                    "taught_vocabulary": [],
                    "vocabulary_density": 0.0
                  },
                  "context_relevance": 1.0,
                  "progression_level": "high_frequency_basic",
                  "phonetic_complexity": "complex",
                  "pronunciation_variants": [
                    "american_english"
                  ],
                  "reinforcement_words_count": 0
                },
                "sentences": {
                  "sentences": [
                    {
                      "text": "This is a book.",
                      "introduces_new": [
                        "book"
                      ],
                      "vocabulary_used": [
                        "book"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_1",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I like room.",
                      "introduces_new": [
                        "room"
                      ],
                      "vocabulary_used": [
                        "room"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_2",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "The key is check in.",
                      "introduces_new": [
                        "key",
                        "check in"
                      ],
                      "vocabulary_used": [
                        "key",
                        "check in"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_3",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I have a check in.",
                      "introduces_new": [
                        "check in"
                      ],
                      "vocabulary_used": [
                        "check in"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_4",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "Where is the check out?",
                      "introduces_new": [
                        "check out"
                      ],
                      "vocabulary_used": [
                        "check out"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_5",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I'd like to book a reservation for amenities.",
                      "introduces_new": [
                        "book",
                        "reservation",
                        "amenities"
                      ],
                      "vocabulary_used": [
                        "book",
                        "reservation",
                        "amenities"
                      ],
                      "complexity_level": "intermediate",
                      "context_situation": "fallback_context_6",
                      "phonetic_features": [
                        "multisyllabic_focus",
                        "challenging_sounds",
                        "stress_pattern_practice"
                      ],
                      "pronunciation_notes": "Focus on sounds: ʃ",
                      "reinforces_previous": []
                    },
                    {
                      "text": "This is a amenities.",
                      "introduces_new": [
                        "amenities"
                      ],
                      "vocabulary_used": [
                        "amenities"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_7",
                      "phonetic_features": [
                        "multisyllabic_focus"
                      ],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I like reception.",
                      "introduces_new": [
                        "reception"
                      ],
                      "vocabulary_used": [
                        "reception"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_8",
                      "phonetic_features": [
                        "multisyllabic_focus",
                        "challenging_sounds"
                      ],
                      "pronunciation_notes": "Focus on sounds: ʃ",
                      "reinforces_previous": []
                    },
                    {
                      "text": "The guest is ask.",
                      "introduces_new": [
                        "guest",
                        "ask"
                      ],
                      "vocabulary_used": [
                        "guest",
                        "ask"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_9",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I have a ask.",
                      "introduces_new": [
                        "ask"
                      ],
                      "vocabulary_used": [
                        "ask"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_10",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "Where is the need?",
                      "introduces_new": [
                        "need"
                      ],
                      "vocabulary_used": [
                        "need"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_11",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I'd like to book a stay for elevator.",
                      "introduces_new": [
                        "book",
                        "stay",
                        "elevator"
                      ],
                      "vocabulary_used": [
                        "book",
                        "stay",
                        "elevator"
                      ],
                      "complexity_level": "intermediate",
                      "context_situation": "fallback_context_12",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    }
                  ],
                  "generated_at": "2025-08-21T19:45:35.972603",
                  "vocabulary_coverage": 0.8666666666666667,
                  "contextual_coherence": 0.16666666666666666,
                  "phonetic_progression": [
                    "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 3: 2 phonetic elements, avg 1.5 syllables",
                    "Sentence 4: 1 phonetic elements, avg 2.0 syllables",
                    "Sentence 5: 1 phonetic elements, avg 2.0 syllables",
                    "Sentence 6: 3 phonetic elements, avg 3.0 syllables",
                    "Sentence 7: 1 phonetic elements, avg 4.0 syllables",
                    "Sentence 8: 1 phonetic elements, avg 3.0 syllables",
                    "Sentence 9: 2 phonetic elements, avg 1.0 syllables",
                    "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 12: 3 phonetic elements, avg 2.0 syllables"
                  ],
                  "pronunciation_patterns": [
                    "Stress patterns: 2 types across sentences",
                    "Syllable complexity: avg 1.9, max 4",
                    "Vowel focus: 4 challenging vowel sounds",
                    "Consonant focus: 1 challenging consonants"
                  ],
                  "progression_appropriateness": 0.8333333333333334
                },
                "tips": {
                  "title": "TIP: Estratégia Contextual",
                  "examples": [
                    "Use as palavras novas em frases contextualizadas",
                    "Conecte vocabulário novo com palavras conhecidas",
                    "Pratique em situações comunicativas reais"
                  ],
                  "strategy": "chunks",
                  "explanation": "Esta estratégia foca em aprender vocabulário através do contexto específico da unidade.",
                  "phonetic_focus": [
                    "pronunciation_awareness"
                  ],
                  "memory_techniques": [
                    "Use associações visuais com as palavras",
                    "Agrupe palavras por temas ou situações"
                  ],
                  "pronunciation_tips": [
                    "Practice clear articulation"
                  ],
                  "selection_rationale": "Estratégia chunks apropriada para o contexto",
                  "vocabulary_coverage": [
                    "room",
                    "reservation",
                    "book",
                    "check in",
                    "check out",
                    "key",
                    "passport",
                    "price"
                  ],
                  "practice_suggestions": [
                    "Crie frases próprias com cada palavra nova",
                    "Pratique conversações usando o vocabulário"
                  ],
                  "complementary_strategies": [
                    "afixacao",
                    "substantivos_compostos",
                    "colocacoes"
                  ]
                },
                "grammar": null,
                "qa": null,
                "assessments": null,
                "strategies_used": [
                  "chunks",
                  "chunks",
                  "chunks",
                  "chunks",
                  "chunks",
                  "chunks",
                  "chunks",
                  "chunks"
                ],
                "assessments_used": [],
                "vocabulary_taught": [
                  "room",
                  "reservation",
                  "book",
                  "check in",
                  "check out",
                  "key",
                  "passport",
                  "price",
                  "night",
                  "breakfast",
                  "towel",
                  "parking",
                  "available",
                  "included"
                ],
                "pronunciation_focus": [],
                "status": "content_pending",
                "quality_score": null,
                "checklist_completed": [],
                "created_at": "2025-08-19T10:13:41.081249Z",
                "updated_at": "2025-08-21T19:45:36.424603Z"
              },
              "hierarchy_context": {
                "course": {
                  "id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                  "name": "Curso de Teste Automático",
                  "language_variant": "american_english",
                  "target_levels": [
                    "A1",
                    "A2",
                    "B1"
                  ]
                },
                "book": {
                  "id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                  "name": "Book de Teste A1",
                  "target_level": "A1",
                  "sequence_order": 1
                },
                "position": {
                  "sequence_in_book": 1,
                  "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3"
                }
              },
              "content_status": {
                "has_vocabulary": true,
                "has_sentences": true,
                "has_strategies": true,
                "has_assessments": false,
                "completion_percentage": 75.0,
                "ready_for_generation": false
              },
              "progression_context": {
                "vocabulary_progression": {
                  "total_words": 0,
                  "words": []
                },
                "strategy_distribution": {},
                "assessment_balance": {},
                "recommendations": [
                  "Diversificar estratégias pedagógicas"
                ],
                "quality_metrics": {
                  "vocabulary_diversity": 0.0,
                  "strategy_diversity": 0.0
                }
              }
            },
            "message": "Unidade 'Unidade Hotel reservations and check-i...' completa",
            "timestamp": "2025-08-21T19:57:40.411673",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": [
              "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/sentences",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context",
              "PUT /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T16:57:31.338726",
          "data": {
            "success": true,
            "data": {
              "unit_info": {
                "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "title": "Unidade Hotel reservations and check-i...",
                "sequence_order": 1,
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "status": "content_pending"
              },
              "rag_context": {
                "taught_vocabulary": {
                  "total_words": 0,
                  "words_sample": [],
                  "vocabulary_density": 0.0
                },
                "used_strategies": {
                  "strategies": [],
                  "count": 0,
                  "diversity_score": 0
                },
                "used_assessments": {
                  "assessment_stats": {},
                  "total_activities": 0
                }
              },
              "precedent_units": [],
              "recommendations": [
                "Diversificar estratégias pedagógicas",
                "Estratégias disponíveis: ['afixacao', 'substantivos_compostos', 'colocacoes']",
                "Considerar análise fonética IPA para vocabulário",
                "Incluir padrões de pronunciação no conteúdo"
              ],
              "progression_insights": {
                "position_in_book": "1 de 12",
                "vocabulary_growth_rate": 0.0,
                "pedagogical_variety": 0,
                "completion_momentum": 0.0
              }
            },
            "message": "Contexto RAG para unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T19:57:42.190381",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": []
          }
        }
      ],
      "VOCABULARY": [
        {
          "timestamp": "2025-08-21T16:59:58.379658",
          "data": {
            "success": true,
            "data": {
              "vocabulary": {
                "items": [
                  {
                    "word": "room",
                    "phoneme": "/ruːm/",
                    "definition": "Quarto",
                    "example": "I want a room for three nights.",
                    "word_class": "noun",
                    "frequency_level": "high",
                    "context_relevance": 1.0,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "unstressed",
                    "syllable_count": 1,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "single",
                    "phoneme": "/ˈsɪŋɡəl/",
                    "definition": "Individual (tipo de quarto)",
                    "example": "I’d like a single room, please.",
                    "word_class": "adjective",
                    "frequency_level": "high",
                    "context_relevance": 0.95,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 1,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "double",
                    "phoneme": "/ˈdʌbəl/",
                    "definition": "Duplo (tipo de quarto)",
                    "example": "Do you have a double room available?",
                    "word_class": "adjective",
                    "frequency_level": "high",
                    "context_relevance": 0.95,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 1,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "reservation",
                    "phoneme": "/ˌrɛzərˈveɪʃən/",
                    "definition": "Reserva",
                    "example": "My reservation is under the name Silva.",
                    "word_class": "noun",
                    "frequency_level": "high",
                    "context_relevance": 1.0,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 4,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "date",
                    "phoneme": "/deɪt/",
                    "definition": "Data (dia da reserva)",
                    "example": "Please tell me the date of your arrival.",
                    "word_class": "noun",
                    "frequency_level": "high",
                    "context_relevance": 0.95,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "unstressed",
                    "syllable_count": 1,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "nights",
                    "phoneme": "/naɪts/",
                    "definition": "Noites (número de noites)",
                    "example": "I need a room for two nights.",
                    "word_class": "noun",
                    "frequency_level": "high",
                    "context_relevance": 0.95,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "unstressed",
                    "syllable_count": 1,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "credit card",
                    "phoneme": "/ˈkrɛdɪt kɑrd/",
                    "definition": "Cartão de crédito",
                    "example": "Do you accept a credit card for payment?",
                    "word_class": "noun",
                    "frequency_level": "high",
                    "context_relevance": 0.95,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 3,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "key",
                    "phoneme": "/kiː/",
                    "definition": "Chave (do quarto)",
                    "example": "Here is your room key. Your room number is 205.",
                    "word_class": "noun",
                    "frequency_level": "high",
                    "context_relevance": 0.95,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "unstressed",
                    "syllable_count": 1,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "towel",
                    "phoneme": "/ˈtaʊəl/",
                    "definition": "Toalha",
                    "example": "Can I have an extra towel, please?",
                    "word_class": "noun",
                    "frequency_level": "high",
                    "context_relevance": 0.9,
                    "is_reinforcement": false,
                    "first_introduced_unit": null,
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 2,
                    "alternative_pronunciations": []
                  }
                ],
                "total_count": 9,
                "context_relevance": 1.0,
                "new_words_count": 9,
                "reinforcement_words_count": 0,
                "rag_context_used": {
                  "taught_vocabulary": [],
                  "used_strategies": [],
                  "progression_level": "high_frequency_basic",
                  "vocabulary_density": 0.0
                },
                "progression_level": "high_frequency_basic",
                "phoneme_coverage": {
                  "total_unique_phonemes": 27,
                  "coverage_score": 90
                },
                "pronunciation_variants": [
                  "american_english"
                ],
                "phonetic_complexity": "complex",
                "generated_at": "2025-08-21T20:00:08.187890"
              },
              "generation_stats": {
                "total_words": 9,
                "new_words": 9,
                "reinforcement_words": 0,
                "context_relevance": "100.0%",
                "processing_time": "134.82s"
              },
              "unit_progression": {
                "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "previous_status": "content_pending",
                "new_status": "sentences_pending",
                "next_step": "Gerar sentences conectadas ao vocabulário"
              },
              "rag_context_used": {
                "taught_vocabulary_count": 0,
                "avoided_repetitions": 9,
                "progression_level": "high_frequency_basic",
                "images_analyzed": 0
              },
              "migration_info": {
                "images_analyzed": 0,
                "service_analysis_success": false,
                "vocabulary_from_images": 0,
                "migration_status": "✅ MCP → Service migration completed successfully"
              }
            },
            "message": "Vocabulário gerado com sucesso para unidade 'Unidade Hotel reservations and check-i...' (service integrado)",
            "timestamp": "2025-08-21T20:00:09.609713",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": [
              "Gerar sentences conectadas",
              "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/sentences",
              "Verificar contexto RAG atualizado",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T16:59:59.656513",
          "data": {
            "success": true,
            "data": {
              "vocabulary": {
                "items": [
                  {
                    "word": "room",
                    "example": "I want a room for three nights.",
                    "phoneme": "/ruːm/",
                    "definition": "Quarto",
                    "word_class": "noun",
                    "ipa_variant": "general_american",
                    "stress_pattern": "unstressed",
                    "syllable_count": 1,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 1.0,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "single",
                    "example": "I’d like a single room, please.",
                    "phoneme": "/ˈsɪŋɡəl/",
                    "definition": "Individual (tipo de quarto)",
                    "word_class": "adjective",
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 1,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 0.95,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "double",
                    "example": "Do you have a double room available?",
                    "phoneme": "/ˈdʌbəl/",
                    "definition": "Duplo (tipo de quarto)",
                    "word_class": "adjective",
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 1,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 0.95,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "reservation",
                    "example": "My reservation is under the name Silva.",
                    "phoneme": "/ˌrɛzərˈveɪʃən/",
                    "definition": "Reserva",
                    "word_class": "noun",
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 4,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 1.0,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "date",
                    "example": "Please tell me the date of your arrival.",
                    "phoneme": "/deɪt/",
                    "definition": "Data (dia da reserva)",
                    "word_class": "noun",
                    "ipa_variant": "general_american",
                    "stress_pattern": "unstressed",
                    "syllable_count": 1,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 0.95,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "nights",
                    "example": "I need a room for two nights.",
                    "phoneme": "/naɪts/",
                    "definition": "Noites (número de noites)",
                    "word_class": "noun",
                    "ipa_variant": "general_american",
                    "stress_pattern": "unstressed",
                    "syllable_count": 1,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 0.95,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "credit card",
                    "example": "Do you accept a credit card for payment?",
                    "phoneme": "/ˈkrɛdɪt kɑrd/",
                    "definition": "Cartão de crédito",
                    "word_class": "noun",
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 3,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 0.95,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "key",
                    "example": "Here is your room key. Your room number is 205.",
                    "phoneme": "/kiː/",
                    "definition": "Chave (do quarto)",
                    "word_class": "noun",
                    "ipa_variant": "general_american",
                    "stress_pattern": "unstressed",
                    "syllable_count": 1,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 0.95,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  },
                  {
                    "word": "towel",
                    "example": "Can I have an extra towel, please?",
                    "phoneme": "/ˈtaʊəl/",
                    "definition": "Toalha",
                    "word_class": "noun",
                    "ipa_variant": "general_american",
                    "stress_pattern": "primary_first",
                    "syllable_count": 2,
                    "frequency_level": "high",
                    "is_reinforcement": false,
                    "context_relevance": 0.9,
                    "first_introduced_unit": null,
                    "alternative_pronunciations": []
                  }
                ],
                "total_count": 9,
                "generated_at": "2025-08-21T20:00:08.187890",
                "new_words_count": 9,
                "phoneme_coverage": {
                  "coverage_score": 90,
                  "total_unique_phonemes": 27
                },
                "rag_context_used": {
                  "used_strategies": [],
                  "progression_level": "high_frequency_basic",
                  "taught_vocabulary": [],
                  "vocabulary_density": 0.0
                },
                "context_relevance": 1.0,
                "progression_level": "high_frequency_basic",
                "phonetic_complexity": "complex",
                "pronunciation_variants": [
                  "american_english"
                ],
                "reinforcement_words_count": 0
              },
              "analysis": {
                "total_words": 9,
                "word_class_distribution": {
                  "noun": 7,
                  "adjective": 2
                },
                "frequency_distribution": {
                  "high": 9
                },
                "context_relevance": 1.0,
                "new_words_count": 9,
                "reinforcement_words_count": 0,
                "progression_level": "high_frequency_basic"
              },
              "unit_context": {
                "unit_title": "Unidade Hotel reservations and check-i...",
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "course_name": "Curso de Teste Automático",
                "book_name": "Book de Teste A1",
                "sequence_order": 1
              },
              "has_vocabulary": true
            },
            "message": "Vocabulário da unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T20:00:10.781828",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": []
          }
        }
      ],
      "SENTENCES": [
        {
          "timestamp": "2025-08-21T17:03:39.282482",
          "data": {
            "success": true,
            "data": {
              "sentences": {
                "sentences": [
                  {
                    "text": "This is a room.",
                    "vocabulary_used": [
                      "room"
                    ],
                    "context_situation": "fallback_context_1",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "room"
                    ],
                    "phonetic_features": [],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "I like single.",
                    "vocabulary_used": [
                      "single"
                    ],
                    "context_situation": "fallback_context_2",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "single"
                    ],
                    "phonetic_features": [
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ŋ"
                  },
                  {
                    "text": "The double is reservation.",
                    "vocabulary_used": [
                      "double",
                      "reservation"
                    ],
                    "context_situation": "fallback_context_3",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "double",
                      "reservation"
                    ],
                    "phonetic_features": [
                      "challenging_sounds",
                      "stress_pattern_practice"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ"
                  },
                  {
                    "text": "I have a reservation.",
                    "vocabulary_used": [
                      "reservation"
                    ],
                    "context_situation": "fallback_context_4",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "reservation"
                    ],
                    "phonetic_features": [
                      "multisyllabic_focus",
                      "challenging_sounds",
                      "stress_pattern_practice"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ"
                  },
                  {
                    "text": "Where is the date?",
                    "vocabulary_used": [
                      "date"
                    ],
                    "context_situation": "fallback_context_5",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "date"
                    ],
                    "phonetic_features": [],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "I'd like to book a nights for credit card.",
                    "vocabulary_used": [
                      "nights",
                      "credit card"
                    ],
                    "context_situation": "fallback_context_6",
                    "complexity_level": "intermediate",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "nights",
                      "credit card"
                    ],
                    "phonetic_features": [],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "This is a credit card.",
                    "vocabulary_used": [
                      "credit card"
                    ],
                    "context_situation": "fallback_context_7",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "credit card"
                    ],
                    "phonetic_features": [
                      "multisyllabic_focus"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "I like key.",
                    "vocabulary_used": [
                      "key"
                    ],
                    "context_situation": "fallback_context_8",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "key"
                    ],
                    "phonetic_features": [],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "The towel is good.",
                    "vocabulary_used": [
                      "towel"
                    ],
                    "context_situation": "fallback_context_9",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "towel"
                    ],
                    "phonetic_features": [],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "I have a room.",
                    "vocabulary_used": [
                      "room"
                    ],
                    "context_situation": "fallback_context_10",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "room"
                    ],
                    "phonetic_features": [],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "Where is the room?",
                    "vocabulary_used": [
                      "room"
                    ],
                    "context_situation": "fallback_context_11",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "room"
                    ],
                    "phonetic_features": [],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "I'd like to book a room for single.",
                    "vocabulary_used": [
                      "room",
                      "single"
                    ],
                    "context_situation": "fallback_context_12",
                    "complexity_level": "intermediate",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "room",
                      "single"
                    ],
                    "phonetic_features": [
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ŋ"
                  }
                ],
                "vocabulary_coverage": 1.0,
                "contextual_coherence": 0.16666666666666666,
                "progression_appropriateness": 0.8333333333333334,
                "phonetic_progression": [
                  "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 3: 2 phonetic elements, avg 2.5 syllables",
                  "Sentence 4: 1 phonetic elements, avg 4.0 syllables",
                  "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 6: 2 phonetic elements, avg 2.0 syllables",
                  "Sentence 7: 1 phonetic elements, avg 3.0 syllables",
                  "Sentence 8: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 9: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 12: 2 phonetic elements, avg 1.0 syllables"
                ],
                "pronunciation_patterns": [
                  "Stress patterns: 2 types across sentences",
                  "Syllable complexity: avg 1.7, max 4",
                  "Vowel focus: 4 challenging vowel sounds",
                  "Consonant focus: 2 challenging consonants"
                ],
                "generated_at": "2025-08-21T20:03:38.832202"
              },
              "generation_stats": {
                "total_sentences": 12,
                "vocabulary_coverage": "100.0%",
                "contextual_coherence": "16.7%",
                "processing_time": "49.70s"
              },
              "unit_progression": {
                "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "previous_status": "sentences_pending",
                "new_status": "content_pending",
                "next_step": "Gerar estratégias (TIPS ou GRAMMAR)"
              },
              "rag_context_used": {
                "taught_vocabulary_count": 0,
                "reinforcement_words": 0,
                "progression_level": "basic_introduction"
              }
            },
            "message": "Sentences geradas com sucesso para unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T20:03:50.944398",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": [
              "Gerar TIPS",
              "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
              "Verificar contexto RAG atualizado",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T17:03:40.121339",
          "data": {
            "success": true,
            "data": {
              "sentences": {
                "sentences": [
                  {
                    "text": "This is a room.",
                    "introduces_new": [
                      "room"
                    ],
                    "vocabulary_used": [
                      "room"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_1",
                    "phonetic_features": [],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "I like single.",
                    "introduces_new": [
                      "single"
                    ],
                    "vocabulary_used": [
                      "single"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_2",
                    "phonetic_features": [
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ŋ",
                    "reinforces_previous": []
                  },
                  {
                    "text": "The double is reservation.",
                    "introduces_new": [
                      "double",
                      "reservation"
                    ],
                    "vocabulary_used": [
                      "double",
                      "reservation"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_3",
                    "phonetic_features": [
                      "challenging_sounds",
                      "stress_pattern_practice"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ",
                    "reinforces_previous": []
                  },
                  {
                    "text": "I have a reservation.",
                    "introduces_new": [
                      "reservation"
                    ],
                    "vocabulary_used": [
                      "reservation"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_4",
                    "phonetic_features": [
                      "multisyllabic_focus",
                      "challenging_sounds",
                      "stress_pattern_practice"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ",
                    "reinforces_previous": []
                  },
                  {
                    "text": "Where is the date?",
                    "introduces_new": [
                      "date"
                    ],
                    "vocabulary_used": [
                      "date"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_5",
                    "phonetic_features": [],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "I'd like to book a nights for credit card.",
                    "introduces_new": [
                      "nights",
                      "credit card"
                    ],
                    "vocabulary_used": [
                      "nights",
                      "credit card"
                    ],
                    "complexity_level": "intermediate",
                    "context_situation": "fallback_context_6",
                    "phonetic_features": [],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "This is a credit card.",
                    "introduces_new": [
                      "credit card"
                    ],
                    "vocabulary_used": [
                      "credit card"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_7",
                    "phonetic_features": [
                      "multisyllabic_focus"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "I like key.",
                    "introduces_new": [
                      "key"
                    ],
                    "vocabulary_used": [
                      "key"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_8",
                    "phonetic_features": [],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "The towel is good.",
                    "introduces_new": [
                      "towel"
                    ],
                    "vocabulary_used": [
                      "towel"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_9",
                    "phonetic_features": [],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "I have a room.",
                    "introduces_new": [
                      "room"
                    ],
                    "vocabulary_used": [
                      "room"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_10",
                    "phonetic_features": [],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "Where is the room?",
                    "introduces_new": [
                      "room"
                    ],
                    "vocabulary_used": [
                      "room"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "fallback_context_11",
                    "phonetic_features": [],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "I'd like to book a room for single.",
                    "introduces_new": [
                      "room",
                      "single"
                    ],
                    "vocabulary_used": [
                      "room",
                      "single"
                    ],
                    "complexity_level": "intermediate",
                    "context_situation": "fallback_context_12",
                    "phonetic_features": [
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ŋ",
                    "reinforces_previous": []
                  }
                ],
                "generated_at": "2025-08-21T20:03:38.832202",
                "vocabulary_coverage": 1.0,
                "contextual_coherence": 0.16666666666666666,
                "phonetic_progression": [
                  "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 3: 2 phonetic elements, avg 2.5 syllables",
                  "Sentence 4: 1 phonetic elements, avg 4.0 syllables",
                  "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 6: 2 phonetic elements, avg 2.0 syllables",
                  "Sentence 7: 1 phonetic elements, avg 3.0 syllables",
                  "Sentence 8: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 9: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 12: 2 phonetic elements, avg 1.0 syllables"
                ],
                "pronunciation_patterns": [
                  "Stress patterns: 2 types across sentences",
                  "Syllable complexity: avg 1.7, max 4",
                  "Vowel focus: 4 challenging vowel sounds",
                  "Consonant focus: 2 challenging consonants"
                ],
                "progression_appropriateness": 0.8333333333333334
              },
              "analysis": {
                "total_sentences": 12,
                "unique_vocabulary_used": 9,
                "vocabulary_coverage": 1.0,
                "complexity_distribution": {
                  "simple": 10,
                  "intermediate": 2
                },
                "contextual_coherence": 0.16666666666666666,
                "progression_appropriateness": 0.8333333333333334
              },
              "unit_context": {
                "unit_title": "Unidade Hotel reservations and check-i...",
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "course_name": "Curso de Teste Automático",
                "book_name": "Book de Teste A1",
                "sequence_order": 1
              },
              "has_sentences": true
            },
            "message": "Sentences da unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T20:03:51.784235",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": []
          }
        }
      ],
      "TIPS": [
        {
          "timestamp": "2025-08-21T17:03:59.743710",
          "data": {
            "success": true,
            "data": {
              "tips": {
                "strategy": "chunks",
                "title": "TIP: Estratégia Contextual",
                "explanation": "Esta estratégia foca em aprender vocabulário através do contexto específico da unidade.",
                "examples": [
                  "Use as palavras novas em frases contextualizadas",
                  "Conecte vocabulário novo com palavras conhecidas",
                  "Pratique em situações comunicativas reais"
                ],
                "practice_suggestions": [
                  "Crie frases próprias com cada palavra nova",
                  "Pratique conversações usando o vocabulário"
                ],
                "memory_techniques": [
                  "Use associações visuais com as palavras",
                  "Agrupe palavras por temas ou situações"
                ],
                "vocabulary_coverage": [
                  "room",
                  "single",
                  "double",
                  "reservation",
                  "date",
                  "nights",
                  "credit card",
                  "key"
                ],
                "complementary_strategies": [
                  "afixacao",
                  "substantivos_compostos",
                  "colocacoes"
                ],
                "selection_rationale": "Estratégia chunks apropriada para o contexto",
                "phonetic_focus": [
                  "pronunciation_awareness"
                ],
                "pronunciation_tips": [
                  "Practice clear articulation"
                ]
              },
              "generation_stats": {
                "strategy_selected": "chunks",
                "vocabulary_coverage": 8,
                "total_examples": 3,
                "practice_suggestions": 2,
                "processing_time": "2.26s"
              },
              "unit_progression": {
                "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "previous_status": "content_pending",
                "new_status": "assessments_pending",
                "next_step": "Gerar assessments para finalizar a unidade"
              },
              "strategy_analysis": {
                "selected_strategy": "chunks",
                "selection_rationale": "Estratégia chunks apropriada para o contexto",
                "used_strategies_context": [],
                "complementary_strategies": [
                  "afixacao",
                  "substantivos_compostos",
                  "colocacoes"
                ],
                "phonetic_focus": [
                  "pronunciation_awareness"
                ]
              }
            },
            "message": "Estratégia TIPS 'chunks' gerada com sucesso para unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T20:04:11.135525",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": [
              "Gerar assessments para finalizar",
              "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/assessments",
              "Verificar estratégia aplicada",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
              "Analisar qualidade da estratégia",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips/analysis"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T17:04:00.600323",
          "data": {
            "success": true,
            "data": {
              "tips": {
                "title": "TIP: Estratégia Contextual",
                "examples": [
                  "Use as palavras novas em frases contextualizadas",
                  "Conecte vocabulário novo com palavras conhecidas",
                  "Pratique em situações comunicativas reais"
                ],
                "strategy": "chunks",
                "explanation": "Esta estratégia foca em aprender vocabulário através do contexto específico da unidade.",
                "phonetic_focus": [
                  "pronunciation_awareness"
                ],
                "memory_techniques": [
                  "Use associações visuais com as palavras",
                  "Agrupe palavras por temas ou situações"
                ],
                "pronunciation_tips": [
                  "Practice clear articulation"
                ],
                "selection_rationale": "Estratégia chunks apropriada para o contexto",
                "vocabulary_coverage": [
                  "room",
                  "single",
                  "double",
                  "reservation",
                  "date",
                  "nights",
                  "credit card",
                  "key"
                ],
                "practice_suggestions": [
                  "Crie frases próprias com cada palavra nova",
                  "Pratique conversações usando o vocabulário"
                ],
                "complementary_strategies": [
                  "afixacao",
                  "substantivos_compostos",
                  "colocacoes"
                ]
              },
              "analysis": {
                "strategy_used": "chunks",
                "vocabulary_coverage": 8,
                "examples_count": 3,
                "practice_suggestions_count": 2,
                "memory_techniques_count": 2,
                "phonetic_focus": [
                  "pronunciation_awareness"
                ],
                "pronunciation_tips": [
                  "Practice clear articulation"
                ]
              },
              "unit_context": {
                "unit_title": "Unidade Hotel reservations and check-i...",
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "unit_status": "assessments_pending",
                "course_name": "Curso de Teste Automático",
                "book_name": "Book de Teste A1",
                "sequence_order": 1
              },
              "strategy_context": {
                "selection_rationale": "Estratégia chunks apropriada para o contexto",
                "complementary_strategies": [
                  "afixacao",
                  "substantivos_compostos",
                  "colocacoes"
                ],
                "vocabulary_integration": [
                  "room",
                  "single",
                  "double",
                  "reservation",
                  "date",
                  "nights",
                  "credit card",
                  "key"
                ]
              },
              "has_tips": true
            },
            "message": "Estratégias TIPS da unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T20:04:11.920346",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": []
          }
        }
      ],
      "COMPARISON": [
        {
          "timestamp": "2025-08-21T17:04:55.317167",
          "data": {
            "success": true,
            "data": {
              "unit_info": {
                "id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "title": "Unidade Hotel reservations and check-i...",
                "context": "Hotel reservations and check-in procedures. Learning how to book rooms, ask for amenities, and handle check-in/check-out processes in English.",
                "cefr_level": "A1",
                "language_variant": "american_english",
                "unit_type": "lexical_unit",
                "status": "assessments_pending",
                "sequence_order": 1,
                "quality_score": null
              },
              "hierarchy_context": {
                "course_name": "Curso de Teste Automático",
                "book_name": "Book de Teste A1",
                "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1"
              },
              "generated_content": {
                "main_aim": null,
                "subsidiary_aims": [],
                "vocabulary": {
                  "items": [
                    {
                      "word": "room",
                      "example": "I want a room for three nights.",
                      "phoneme": "/ruːm/",
                      "definition": "Quarto",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "single",
                      "example": "I’d like a single room, please.",
                      "phoneme": "/ˈsɪŋɡəl/",
                      "definition": "Individual (tipo de quarto)",
                      "word_class": "adjective",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.95,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "double",
                      "example": "Do you have a double room available?",
                      "phoneme": "/ˈdʌbəl/",
                      "definition": "Duplo (tipo de quarto)",
                      "word_class": "adjective",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.95,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "reservation",
                      "example": "My reservation is under the name Silva.",
                      "phoneme": "/ˌrɛzərˈveɪʃən/",
                      "definition": "Reserva",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 4,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "date",
                      "example": "Please tell me the date of your arrival.",
                      "phoneme": "/deɪt/",
                      "definition": "Data (dia da reserva)",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.95,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "nights",
                      "example": "I need a room for two nights.",
                      "phoneme": "/naɪts/",
                      "definition": "Noites (número de noites)",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.95,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "credit card",
                      "example": "Do you accept a credit card for payment?",
                      "phoneme": "/ˈkrɛdɪt kɑrd/",
                      "definition": "Cartão de crédito",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 3,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.95,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "key",
                      "example": "Here is your room key. Your room number is 205.",
                      "phoneme": "/kiː/",
                      "definition": "Chave (do quarto)",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.95,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "towel",
                      "example": "Can I have an extra towel, please?",
                      "phoneme": "/ˈtaʊəl/",
                      "definition": "Toalha",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.9,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    }
                  ],
                  "total_count": 9,
                  "generated_at": "2025-08-21T20:00:08.187890",
                  "new_words_count": 9,
                  "phoneme_coverage": {
                    "coverage_score": 90,
                    "total_unique_phonemes": 27
                  },
                  "rag_context_used": {
                    "used_strategies": [],
                    "progression_level": "high_frequency_basic",
                    "taught_vocabulary": [],
                    "vocabulary_density": 0.0
                  },
                  "context_relevance": 1.0,
                  "progression_level": "high_frequency_basic",
                  "phonetic_complexity": "complex",
                  "pronunciation_variants": [
                    "american_english"
                  ],
                  "reinforcement_words_count": 0
                },
                "sentences": {
                  "sentences": [
                    {
                      "text": "This is a room.",
                      "introduces_new": [
                        "room"
                      ],
                      "vocabulary_used": [
                        "room"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_1",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I like single.",
                      "introduces_new": [
                        "single"
                      ],
                      "vocabulary_used": [
                        "single"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_2",
                      "phonetic_features": [
                        "challenging_sounds"
                      ],
                      "pronunciation_notes": "Focus on sounds: ŋ",
                      "reinforces_previous": []
                    },
                    {
                      "text": "The double is reservation.",
                      "introduces_new": [
                        "double",
                        "reservation"
                      ],
                      "vocabulary_used": [
                        "double",
                        "reservation"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_3",
                      "phonetic_features": [
                        "challenging_sounds",
                        "stress_pattern_practice"
                      ],
                      "pronunciation_notes": "Focus on sounds: ʃ",
                      "reinforces_previous": []
                    },
                    {
                      "text": "I have a reservation.",
                      "introduces_new": [
                        "reservation"
                      ],
                      "vocabulary_used": [
                        "reservation"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_4",
                      "phonetic_features": [
                        "multisyllabic_focus",
                        "challenging_sounds",
                        "stress_pattern_practice"
                      ],
                      "pronunciation_notes": "Focus on sounds: ʃ",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Where is the date?",
                      "introduces_new": [
                        "date"
                      ],
                      "vocabulary_used": [
                        "date"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_5",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I'd like to book a nights for credit card.",
                      "introduces_new": [
                        "nights",
                        "credit card"
                      ],
                      "vocabulary_used": [
                        "nights",
                        "credit card"
                      ],
                      "complexity_level": "intermediate",
                      "context_situation": "fallback_context_6",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "This is a credit card.",
                      "introduces_new": [
                        "credit card"
                      ],
                      "vocabulary_used": [
                        "credit card"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_7",
                      "phonetic_features": [
                        "multisyllabic_focus"
                      ],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I like key.",
                      "introduces_new": [
                        "key"
                      ],
                      "vocabulary_used": [
                        "key"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_8",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "The towel is good.",
                      "introduces_new": [
                        "towel"
                      ],
                      "vocabulary_used": [
                        "towel"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_9",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I have a room.",
                      "introduces_new": [
                        "room"
                      ],
                      "vocabulary_used": [
                        "room"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_10",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "Where is the room?",
                      "introduces_new": [
                        "room"
                      ],
                      "vocabulary_used": [
                        "room"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "fallback_context_11",
                      "phonetic_features": [],
                      "pronunciation_notes": null,
                      "reinforces_previous": []
                    },
                    {
                      "text": "I'd like to book a room for single.",
                      "introduces_new": [
                        "room",
                        "single"
                      ],
                      "vocabulary_used": [
                        "room",
                        "single"
                      ],
                      "complexity_level": "intermediate",
                      "context_situation": "fallback_context_12",
                      "phonetic_features": [
                        "challenging_sounds"
                      ],
                      "pronunciation_notes": "Focus on sounds: ŋ",
                      "reinforces_previous": []
                    }
                  ],
                  "generated_at": "2025-08-21T20:03:38.832202",
                  "vocabulary_coverage": 1.0,
                  "contextual_coherence": 0.16666666666666666,
                  "phonetic_progression": [
                    "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 3: 2 phonetic elements, avg 2.5 syllables",
                    "Sentence 4: 1 phonetic elements, avg 4.0 syllables",
                    "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 6: 2 phonetic elements, avg 2.0 syllables",
                    "Sentence 7: 1 phonetic elements, avg 3.0 syllables",
                    "Sentence 8: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 9: 1 phonetic elements, avg 2.0 syllables",
                    "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 12: 2 phonetic elements, avg 1.0 syllables"
                  ],
                  "pronunciation_patterns": [
                    "Stress patterns: 2 types across sentences",
                    "Syllable complexity: avg 1.7, max 4",
                    "Vowel focus: 4 challenging vowel sounds",
                    "Consonant focus: 2 challenging consonants"
                  ],
                  "progression_appropriateness": 0.8333333333333334
                },
                "tips": {
                  "title": "TIP: Estratégia Contextual",
                  "examples": [
                    "Use as palavras novas em frases contextualizadas",
                    "Conecte vocabulário novo com palavras conhecidas",
                    "Pratique em situações comunicativas reais"
                  ],
                  "strategy": "chunks",
                  "explanation": "Esta estratégia foca em aprender vocabulário através do contexto específico da unidade.",
                  "phonetic_focus": [
                    "pronunciation_awareness"
                  ],
                  "memory_techniques": [
                    "Use associações visuais com as palavras",
                    "Agrupe palavras por temas ou situações"
                  ],
                  "pronunciation_tips": [
                    "Practice clear articulation"
                  ],
                  "selection_rationale": "Estratégia chunks apropriada para o contexto",
                  "vocabulary_coverage": [
                    "room",
                    "single",
                    "double",
                    "reservation",
                    "date",
                    "nights",
                    "credit card",
                    "key"
                  ],
                  "practice_suggestions": [
                    "Crie frases próprias com cada palavra nova",
                    "Pratique conversações usando o vocabulário"
                  ],
                  "complementary_strategies": [
                    "afixacao",
                    "substantivos_compostos",
                    "colocacoes"
                  ]
                },
                "grammar": null,
                "assessments": null,
                "qa": null
              },
              "content_summary": {
                "has_vocabulary": true,
                "has_sentences": true,
                "has_strategies": true,
                "has_assessments": false,
                "has_qa": false,
                "completion_percentage": 75.0
              },
              "images": []
            },
            "message": "Conteúdo completo da unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T20:05:06.967065",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": []
          }
        }
      ]
    },
    "WITH_IMAGE": {
      "SETUP": [
        {
          "timestamp": "2025-08-21T16:57:27.567170",
          "data": {
            "success": true,
            "data": {
              "unit": {
                "id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
                "title": "Unidade Restaurant dining experience w...",
                "sequence_order": 12,
                "status": "creating",
                "context": "Restaurant dining experience with menu, ordering food, and payment",
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "language_variant": "american_english",
                "images_count": 1
              },
              "hierarchy_context": {
                "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                "course_name": "Curso de Teste Automático",
                "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                "book_name": "Book de Teste A1",
                "book_level": "A1",
                "sequence_in_book": 12
              },
              "validation_info": {
                "is_valid": true,
                "warnings": [],
                "suggestions": []
              },
              "images_processed": 1,
              "ready_for_next_step": true
            },
            "message": "Unidade criada na sequência 12 do book 'Book de Teste A1'",
            "timestamp": "2025-08-21T19:57:38.508783",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
              "sequence": 12
            },
            "next_suggested_actions": [
              "Gerar vocabulário com RAG e fonemas IPA",
              "POST /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/vocabulary",
              "Ver contexto hierárquico RAG",
              "GET /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/context",
              "Analisar imagens via MCP",
              "POST /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/analyze-images"
            ]
          }
        }
      ],
      "CONTEXT": [
        {
          "timestamp": "2025-08-21T16:57:32.626041",
          "data": {
            "success": true,
            "data": {
              "unit_data": {
                "id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
                "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                "sequence_order": 12,
                "title": "Unidade Restaurant dining experience w...",
                "main_aim": null,
                "subsidiary_aims": [],
                "context": "Restaurant dining experience with menu, ordering food, and payment",
                "cefr_level": "A1",
                "language_variant": "american_english",
                "unit_type": "lexical_unit",
                "images": [
                  {
                    "size": 118,
                    "base64": "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEklEQVR4nGP4DwAAAAABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJRU5ErkJggg==",
                    "filename": "restaurant_scene.png",
                    "is_primary": true,
                    "description": "Primeira imagem - análise pendente",
                    "content_type": "image/png"
                  }
                ],
                "vocabulary": null,
                "sentences": null,
                "tips": null,
                "grammar": null,
                "qa": null,
                "assessments": null,
                "strategies_used": [],
                "assessments_used": [],
                "vocabulary_taught": [],
                "pronunciation_focus": [],
                "status": "creating",
                "quality_score": null,
                "checklist_completed": [],
                "created_at": "2025-08-21T19:57:38.524712Z",
                "updated_at": "2025-08-21T19:57:38.960898Z"
              },
              "hierarchy_context": {
                "course": {
                  "id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                  "name": "Curso de Teste Automático",
                  "language_variant": "american_english",
                  "target_levels": [
                    "A1",
                    "A2",
                    "B1"
                  ]
                },
                "book": {
                  "id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                  "name": "Book de Teste A1",
                  "target_level": "A1",
                  "sequence_order": 1
                },
                "position": {
                  "sequence_in_book": 12,
                  "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e"
                }
              },
              "content_status": {
                "has_vocabulary": false,
                "has_sentences": false,
                "has_strategies": false,
                "has_assessments": false,
                "completion_percentage": 0.0,
                "ready_for_generation": true
              },
              "progression_context": {
                "vocabulary_progression": {
                  "total_words": 60,
                  "words": [
                    "available",
                    "beef",
                    "bill",
                    "book",
                    "bottle",
                    "breakfast",
                    "brush",
                    "burger",
                    "card",
                    "cash"
                  ]
                },
                "strategy_distribution": {
                  "chunks": 1,
                  "colocacoes": 1,
                  "substantivos_compostos": 1
                },
                "assessment_balance": {},
                "recommendations": [],
                "quality_metrics": {
                  "vocabulary_diversity": 1.0,
                  "strategy_diversity": 1.0
                }
              }
            },
            "message": "Unidade 'Unidade Restaurant dining experience w...' completa",
            "timestamp": "2025-08-21T19:57:43.478515",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
              "sequence": 12
            },
            "next_suggested_actions": [
              "POST /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/vocabulary",
              "GET /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/context",
              "GET /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/context",
              "PUT /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T16:57:34.902758",
          "data": {
            "success": true,
            "data": {
              "unit_info": {
                "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
                "title": "Unidade Restaurant dining experience w...",
                "sequence_order": 12,
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "status": "creating"
              },
              "rag_context": {
                "taught_vocabulary": {
                  "total_words": 60,
                  "words_sample": [
                    "available",
                    "beef",
                    "bill",
                    "book",
                    "bottle",
                    "breakfast",
                    "brush",
                    "burger",
                    "card",
                    "cash",
                    "check in",
                    "check out",
                    "cheese",
                    "chicken",
                    "cook",
                    "delicious",
                    "dessert",
                    "drink",
                    "eat",
                    "every day"
                  ],
                  "vocabulary_density": 5.0
                },
                "used_strategies": {
                  "strategies": [
                    "chunks",
                    "colocacoes",
                    "substantivos_compostos"
                  ],
                  "count": 3,
                  "diversity_score": 1.0
                },
                "used_assessments": {
                  "assessment_stats": {},
                  "total_activities": 0
                }
              },
              "precedent_units": [
                {
                  "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                  "title": "Unidade Hotel reservations and check-i...",
                  "sequence": 1,
                  "status": "content_pending",
                  "vocabulary_count": 14,
                  "strategies": [
                    "chunks",
                    "chunks",
                    "chunks",
                    "chunks",
                    "chunks",
                    "chunks",
                    "chunks",
                    "chunks"
                  ],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_0d2ae96c_762d_436e_897d_f38e56ca532f",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 2,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_f0fcce6a_b06b_4673_97d2_29299bd13aad",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 3,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_0cad2215_86be_4ed8_a43c_01a546f8e292",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 4,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_94517b1a_cd3e_402a_81ea_ebc8cc711ed7",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 5,
                  "status": "sentences_pending",
                  "vocabulary_count": 15,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_b6387498_3fd4_4ff6_9cc7_fda584d08784",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 6,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_8ac71967_d794_4313_88b5_cf9cef0876ad",
                  "title": "Unidade Learning present simple tense ...",
                  "sequence": 7,
                  "status": "sentences_pending",
                  "vocabulary_count": 17,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 8,
                  "status": "assessments_pending",
                  "vocabulary_count": 9,
                  "strategies": [
                    "substantivos_compostos"
                  ],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_92b1e579_0dfb_4841_9c89_4980c904d469",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 9,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_89a16dfd_a991_4fce_9f6a_7f36971f71c8",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 10,
                  "status": "assessments_pending",
                  "vocabulary_count": 5,
                  "strategies": [
                    "colocacoes"
                  ],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_8a5978ea_02fb_42bf_946b_d29b416a6ef0",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 11,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                }
              ],
              "recommendations": [
                "Estratégias disponíveis: ['afixacao', 'expressoes_fixas', 'idiomas']",
                "Considerar análise fonética IPA para vocabulário",
                "Incluir padrões de pronunciação no conteúdo"
              ],
              "progression_insights": {
                "position_in_book": "12 de 12",
                "vocabulary_growth_rate": 5.0,
                "pedagogical_variety": 3,
                "completion_momentum": 0.0
              }
            },
            "message": "Contexto RAG para unidade 'Unidade Restaurant dining experience w...'",
            "timestamp": "2025-08-21T19:57:45.754604",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
              "sequence": 12
            },
            "next_suggested_actions": []
          }
        }
      ],
      "COMPARISON": [
        {
          "timestamp": "2025-08-21T17:04:57.288429",
          "data": {
            "success": true,
            "data": {
              "unit_info": {
                "id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
                "title": "Unidade Restaurant dining experience w...",
                "context": "Restaurant dining experience with menu, ordering food, and payment",
                "cefr_level": "A1",
                "language_variant": "american_english",
                "unit_type": "lexical_unit",
                "status": "creating",
                "sequence_order": 12,
                "quality_score": null
              },
              "hierarchy_context": {
                "course_name": "Curso de Teste Automático",
                "book_name": "Book de Teste A1",
                "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1"
              },
              "generated_content": {
                "main_aim": null,
                "subsidiary_aims": [],
                "vocabulary": null,
                "sentences": null,
                "tips": null,
                "grammar": null,
                "assessments": null,
                "qa": null
              },
              "content_summary": {
                "has_vocabulary": false,
                "has_sentences": false,
                "has_strategies": false,
                "has_assessments": false,
                "has_qa": false,
                "completion_percentage": 0.0
              },
              "images": [
                {
                  "size": 118,
                  "base64": "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEklEQVR4nGP4DwAAAAABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJRU5ErkJggg==",
                  "filename": "restaurant_scene.png",
                  "is_primary": true,
                  "description": "Primeira imagem - análise pendente",
                  "content_type": "image/png"
                }
              ]
            },
            "message": "Conteúdo completo da unidade 'Unidade Restaurant dining experience w...'",
            "timestamp": "2025-08-21T20:05:08.940941",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
              "sequence": 12
            },
            "next_suggested_actions": []
          }
        }
      ]
    }
  },
  "results": [
    {
      "timestamp": "2025-08-21T16:57:24.569055",
      "category": "SETUP (WITH_IMAGE)",
      "endpoint": "/api/v2/books/book_2762e908_39a5_470b_8668_3b0f4026f2c1/units",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "response_size": 1375,
      "execution_time_ms": 2997.12,
      "error": null,
      "notes": "Criar unit COM imagem para teste",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit": {
            "id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
            "title": "Unidade Restaurant dining experience w...",
            "sequence_order": 12,
            "status": "creating",
            "context": "Restaurant dining experience with menu, ordering food, and payment",
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "language_variant": "american_english",
            "images_count": 1
          },
          "hierarchy_context": {
            "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
            "course_name": "Curso de Teste Automático",
            "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
            "book_name": "Book de Teste A1",
            "book_level": "A1",
            "sequence_in_book": 12
          },
          "validation_info": {
            "is_valid": true,
            "warnings": [],
            "suggestions": []
          },
          "images_processed": 1,
          "ready_for_next_step": true
        },
        "message": "Unidade criada na sequência 12 do book 'Book de Teste A1'",
        "timestamp": "2025-08-21T19:57:38.508783",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
          "sequence": 12
        },
        "next_suggested_actions": [
          "Gerar vocabulário com RAG e fonemas IPA",
          "POST /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/vocabulary",
          "Ver contexto hierárquico RAG",
          "GET /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/context",
          "Analisar imagens via MCP",
          "POST /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/analyze-images"
        ]
      },
      "response_preview": "{'success': True, 'data': {'unit': {'id': 'unit_0fe2f42f_7b84_4286_af81_4d167f5b995e', 'title': 'Unidade Restaurant dining experience w...', 'sequence..."
    },
    {
      "timestamp": "2025-08-21T16:57:27.571178",
      "category": "CONTEXT (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 13128,
      "execution_time_ms": 1988.55,
      "error": null,
      "notes": "Unit SEM imagem - dados básicos",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_data": {
            "id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
            "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
            "sequence_order": 1,
            "title": "Unidade Hotel reservations and check-i...",
            "main_aim": null,
            "subsidiary_aims": [],
            "context": "Hotel reservations and check-in procedures. Learning how to book rooms, ask for amenities, and handle check-in/check-out processes in English.",
            "cefr_level": "A1",
            "language_variant": "american_english",
            "unit_type": "lexical_unit",
            "images": [],
            "vocabulary": {
              "items": [
                {
                  "word": "room",
                  "example": "I'd like a room for two nights.",
                  "phoneme": "/ruːm/",
                  "definition": "quarto (no hotel)",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.98,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "reservation",
                  "example": "I have a reservation under Silva.",
                  "phoneme": "/ˌrɛzərˈveɪʃən/",
                  "definition": "reserva",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 4,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.97,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "book",
                  "example": "I'd like to book a single room, please.",
                  "phoneme": "/bʊk/",
                  "definition": "reservar",
                  "word_class": "verb",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.96,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "check in",
                  "example": "We check in at 2 PM.",
                  "phoneme": "/tʃɛk ɪn/",
                  "definition": "fazer check-in; registrar a entrada",
                  "word_class": "phrasal verb",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.99,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "check out",
                  "example": "What time is check-out tomorrow?",
                  "phoneme": "/tʃɛk aʊt/",
                  "definition": "fazer check-out; pagar e sair",
                  "word_class": "phrasal verb",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.99,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "key",
                  "example": "Here is your room key.",
                  "phoneme": "/kiː/",
                  "definition": "chave (ou cartão da porta)",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.95,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "passport",
                  "example": "Please show me your passport at the desk.",
                  "phoneme": "/ˈpæspɔrt/",
                  "definition": "passaporte / documento de identificação",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.95,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "price",
                  "example": "What is the price per night?",
                  "phoneme": "/praɪs/",
                  "definition": "preço / valor",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.93,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "night",
                  "example": "We need two nights, from Monday to Wednesday.",
                  "phoneme": "/naɪt/",
                  "definition": "noite (duração da estadia)",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.92,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "breakfast",
                  "example": "Is breakfast included with the room?",
                  "phoneme": "/ˈbrɛkfəst/",
                  "definition": "café da manhã; pequeno-almoço",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.94,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "towel",
                  "example": "Can I have an extra towel, please?",
                  "phoneme": "/ˈtaʊəl/",
                  "definition": "toalha",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.88,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "parking",
                  "example": "Is parking available at the hotel?",
                  "phoneme": "/ˈpɑrkɪŋ/",
                  "definition": "estacionamento",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.85,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "available",
                  "example": "Do you have a room available for Friday?",
                  "phoneme": "/əˈveɪləbəl/",
                  "definition": "disponível",
                  "word_class": "adjective",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 3,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.96,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "included",
                  "example": "Is breakfast included in the price?",
                  "phoneme": "/ɪnˈkludɪd/",
                  "definition": "incluído",
                  "word_class": "adjective",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 3,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.94,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                }
              ],
              "total_count": 14,
              "generated_at": "2025-08-21T19:43:04.155036",
              "new_words_count": 14,
              "phoneme_coverage": {
                "coverage_score": 96,
                "total_unique_phonemes": 29
              },
              "rag_context_used": {
                "used_strategies": [],
                "progression_level": "high_frequency_basic",
                "taught_vocabulary": [],
                "vocabulary_density": 0.0
              },
              "context_relevance": 1.0,
              "progression_level": "high_frequency_basic",
              "phonetic_complexity": "complex",
              "pronunciation_variants": [
                "american_english"
              ],
              "reinforcement_words_count": 0
            },
            "sentences": {
              "sentences": [
                {
                  "text": "This is a book.",
                  "introduces_new": [
                    "book"
                  ],
                  "vocabulary_used": [
                    "book"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_1",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I like room.",
                  "introduces_new": [
                    "room"
                  ],
                  "vocabulary_used": [
                    "room"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_2",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "The key is check in.",
                  "introduces_new": [
                    "key",
                    "check in"
                  ],
                  "vocabulary_used": [
                    "key",
                    "check in"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_3",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I have a check in.",
                  "introduces_new": [
                    "check in"
                  ],
                  "vocabulary_used": [
                    "check in"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_4",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "Where is the check out?",
                  "introduces_new": [
                    "check out"
                  ],
                  "vocabulary_used": [
                    "check out"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_5",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I'd like to book a reservation for amenities.",
                  "introduces_new": [
                    "book",
                    "reservation",
                    "amenities"
                  ],
                  "vocabulary_used": [
                    "book",
                    "reservation",
                    "amenities"
                  ],
                  "complexity_level": "intermediate",
                  "context_situation": "fallback_context_6",
                  "phonetic_features": [
                    "multisyllabic_focus",
                    "challenging_sounds",
                    "stress_pattern_practice"
                  ],
                  "pronunciation_notes": "Focus on sounds: ʃ",
                  "reinforces_previous": []
                },
                {
                  "text": "This is a amenities.",
                  "introduces_new": [
                    "amenities"
                  ],
                  "vocabulary_used": [
                    "amenities"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_7",
                  "phonetic_features": [
                    "multisyllabic_focus"
                  ],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I like reception.",
                  "introduces_new": [
                    "reception"
                  ],
                  "vocabulary_used": [
                    "reception"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_8",
                  "phonetic_features": [
                    "multisyllabic_focus",
                    "challenging_sounds"
                  ],
                  "pronunciation_notes": "Focus on sounds: ʃ",
                  "reinforces_previous": []
                },
                {
                  "text": "The guest is ask.",
                  "introduces_new": [
                    "guest",
                    "ask"
                  ],
                  "vocabulary_used": [
                    "guest",
                    "ask"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_9",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I have a ask.",
                  "introduces_new": [
                    "ask"
                  ],
                  "vocabulary_used": [
                    "ask"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_10",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "Where is the need?",
                  "introduces_new": [
                    "need"
                  ],
                  "vocabulary_used": [
                    "need"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_11",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I'd like to book a stay for elevator.",
                  "introduces_new": [
                    "book",
                    "stay",
                    "elevator"
                  ],
                  "vocabulary_used": [
                    "book",
                    "stay",
                    "elevator"
                  ],
                  "complexity_level": "intermediate",
                  "context_situation": "fallback_context_12",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                }
              ],
              "generated_at": "2025-08-21T19:45:35.972603",
              "vocabulary_coverage": 0.8666666666666667,
              "contextual_coherence": 0.16666666666666666,
              "phonetic_progression": [
                "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 3: 2 phonetic elements, avg 1.5 syllables",
                "Sentence 4: 1 phonetic elements, avg 2.0 syllables",
                "Sentence 5: 1 phonetic elements, avg 2.0 syllables",
                "Sentence 6: 3 phonetic elements, avg 3.0 syllables",
                "Sentence 7: 1 phonetic elements, avg 4.0 syllables",
                "Sentence 8: 1 phonetic elements, avg 3.0 syllables",
                "Sentence 9: 2 phonetic elements, avg 1.0 syllables",
                "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 12: 3 phonetic elements, avg 2.0 syllables"
              ],
              "pronunciation_patterns": [
                "Stress patterns: 2 types across sentences",
                "Syllable complexity: avg 1.9, max 4",
                "Vowel focus: 4 challenging vowel sounds",
                "Consonant focus: 1 challenging consonants"
              ],
              "progression_appropriateness": 0.8333333333333334
            },
            "tips": {
              "title": "TIP: Estratégia Contextual",
              "examples": [
                "Use as palavras novas em frases contextualizadas",
                "Conecte vocabulário novo com palavras conhecidas",
                "Pratique em situações comunicativas reais"
              ],
              "strategy": "chunks",
              "explanation": "Esta estratégia foca em aprender vocabulário através do contexto específico da unidade.",
              "phonetic_focus": [
                "pronunciation_awareness"
              ],
              "memory_techniques": [
                "Use associações visuais com as palavras",
                "Agrupe palavras por temas ou situações"
              ],
              "pronunciation_tips": [
                "Practice clear articulation"
              ],
              "selection_rationale": "Estratégia chunks apropriada para o contexto",
              "vocabulary_coverage": [
                "room",
                "reservation",
                "book",
                "check in",
                "check out",
                "key",
                "passport",
                "price"
              ],
              "practice_suggestions": [
                "Crie frases próprias com cada palavra nova",
                "Pratique conversações usando o vocabulário"
              ],
              "complementary_strategies": [
                "afixacao",
                "substantivos_compostos",
                "colocacoes"
              ]
            },
            "grammar": null,
            "qa": null,
            "assessments": null,
            "strategies_used": [
              "chunks",
              "chunks",
              "chunks",
              "chunks",
              "chunks",
              "chunks",
              "chunks",
              "chunks"
            ],
            "assessments_used": [],
            "vocabulary_taught": [
              "room",
              "reservation",
              "book",
              "check in",
              "check out",
              "key",
              "passport",
              "price",
              "night",
              "breakfast",
              "towel",
              "parking",
              "available",
              "included"
            ],
            "pronunciation_focus": [],
            "status": "content_pending",
            "quality_score": null,
            "checklist_completed": [],
            "created_at": "2025-08-19T10:13:41.081249Z",
            "updated_at": "2025-08-21T19:45:36.424603Z"
          },
          "hierarchy_context": {
            "course": {
              "id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "name": "Curso de Teste Automático",
              "language_variant": "american_english",
              "target_levels": [
                "A1",
                "A2",
                "B1"
              ]
            },
            "book": {
              "id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "name": "Book de Teste A1",
              "target_level": "A1",
              "sequence_order": 1
            },
            "position": {
              "sequence_in_book": 1,
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3"
            }
          },
          "content_status": {
            "has_vocabulary": true,
            "has_sentences": true,
            "has_strategies": true,
            "has_assessments": false,
            "completion_percentage": 75.0,
            "ready_for_generation": false
          },
          "progression_context": {
            "vocabulary_progression": {
              "total_words": 0,
              "words": []
            },
            "strategy_distribution": {},
            "assessment_balance": {},
            "recommendations": [
              "Diversificar estratégias pedagógicas"
            ],
            "quality_metrics": {
              "vocabulary_diversity": 0.0,
              "strategy_diversity": 0.0
            }
          }
        },
        "message": "Unidade 'Unidade Hotel reservations and check-i...' completa",
        "timestamp": "2025-08-21T19:57:40.411673",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": [
          "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/sentences",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context",
          "PUT /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3"
        ]
      },
      "response_preview": "{'success': True, 'data': {'unit_data': {'id': 'unit_e7bbcdea_e580_461e_89d2_271750de7ba3', 'course_id': 'course_5e19fe18_c172_4f43_9c0a_202293325115'..."
    },
    {
      "timestamp": "2025-08-21T16:57:29.571838",
      "category": "CONTEXT (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 1202,
      "execution_time_ms": 1766.34,
      "error": null,
      "notes": "Unit SEM imagem - contexto RAG",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_info": {
            "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "title": "Unidade Hotel reservations and check-i...",
            "sequence_order": 1,
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "status": "content_pending"
          },
          "rag_context": {
            "taught_vocabulary": {
              "total_words": 0,
              "words_sample": [],
              "vocabulary_density": 0.0
            },
            "used_strategies": {
              "strategies": [],
              "count": 0,
              "diversity_score": 0
            },
            "used_assessments": {
              "assessment_stats": {},
              "total_activities": 0
            }
          },
          "precedent_units": [],
          "recommendations": [
            "Diversificar estratégias pedagógicas",
            "Estratégias disponíveis: ['afixacao', 'substantivos_compostos', 'colocacoes']",
            "Considerar análise fonética IPA para vocabulário",
            "Incluir padrões de pronunciação no conteúdo"
          ],
          "progression_insights": {
            "position_in_book": "1 de 12",
            "vocabulary_growth_rate": 0.0,
            "pedagogical_variety": 0,
            "completion_momentum": 0.0
          }
        },
        "message": "Contexto RAG para unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T19:57:42.190381",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'unit_info': {'unit_id': 'unit_e7bbcdea_e580_461e_89d2_271750de7ba3', 'title': 'Unidade Hotel reservations and check-i...',..."
    },
    {
      "timestamp": "2025-08-21T16:57:31.572841",
      "category": "CONTEXT (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 2675,
      "execution_time_ms": 1052.62,
      "error": null,
      "notes": "Unit COM imagem - dados básicos",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_data": {
            "id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
            "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
            "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
            "sequence_order": 12,
            "title": "Unidade Restaurant dining experience w...",
            "main_aim": null,
            "subsidiary_aims": [],
            "context": "Restaurant dining experience with menu, ordering food, and payment",
            "cefr_level": "A1",
            "language_variant": "american_english",
            "unit_type": "lexical_unit",
            "images": [
              {
                "size": 118,
                "base64": "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEklEQVR4nGP4DwAAAAABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJRU5ErkJggg==",
                "filename": "restaurant_scene.png",
                "is_primary": true,
                "description": "Primeira imagem - análise pendente",
                "content_type": "image/png"
              }
            ],
            "vocabulary": null,
            "sentences": null,
            "tips": null,
            "grammar": null,
            "qa": null,
            "assessments": null,
            "strategies_used": [],
            "assessments_used": [],
            "vocabulary_taught": [],
            "pronunciation_focus": [],
            "status": "creating",
            "quality_score": null,
            "checklist_completed": [],
            "created_at": "2025-08-21T19:57:38.524712Z",
            "updated_at": "2025-08-21T19:57:38.960898Z"
          },
          "hierarchy_context": {
            "course": {
              "id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "name": "Curso de Teste Automático",
              "language_variant": "american_english",
              "target_levels": [
                "A1",
                "A2",
                "B1"
              ]
            },
            "book": {
              "id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "name": "Book de Teste A1",
              "target_level": "A1",
              "sequence_order": 1
            },
            "position": {
              "sequence_in_book": 12,
              "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e"
            }
          },
          "content_status": {
            "has_vocabulary": false,
            "has_sentences": false,
            "has_strategies": false,
            "has_assessments": false,
            "completion_percentage": 0.0,
            "ready_for_generation": true
          },
          "progression_context": {
            "vocabulary_progression": {
              "total_words": 60,
              "words": [
                "available",
                "beef",
                "bill",
                "book",
                "bottle",
                "breakfast",
                "brush",
                "burger",
                "card",
                "cash"
              ]
            },
            "strategy_distribution": {
              "chunks": 1,
              "colocacoes": 1,
              "substantivos_compostos": 1
            },
            "assessment_balance": {},
            "recommendations": [],
            "quality_metrics": {
              "vocabulary_diversity": 1.0,
              "strategy_diversity": 1.0
            }
          }
        },
        "message": "Unidade 'Unidade Restaurant dining experience w...' completa",
        "timestamp": "2025-08-21T19:57:43.478515",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
          "sequence": 12
        },
        "next_suggested_actions": [
          "POST /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/vocabulary",
          "GET /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/context",
          "GET /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/context",
          "PUT /api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e"
        ]
      },
      "response_preview": "{'success': True, 'data': {'unit_data': {'id': 'unit_0fe2f42f_7b84_4286_af81_4d167f5b995e', 'course_id': 'course_5e19fe18_c172_4f43_9c0a_202293325115'..."
    },
    {
      "timestamp": "2025-08-21T16:57:33.574459",
      "category": "CONTEXT (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/context",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 3914,
      "execution_time_ms": 1327.75,
      "error": null,
      "notes": "Unit COM imagem - contexto RAG",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_info": {
            "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
            "title": "Unidade Restaurant dining experience w...",
            "sequence_order": 12,
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "status": "creating"
          },
          "rag_context": {
            "taught_vocabulary": {
              "total_words": 60,
              "words_sample": [
                "available",
                "beef",
                "bill",
                "book",
                "bottle",
                "breakfast",
                "brush",
                "burger",
                "card",
                "cash",
                "check in",
                "check out",
                "cheese",
                "chicken",
                "cook",
                "delicious",
                "dessert",
                "drink",
                "eat",
                "every day"
              ],
              "vocabulary_density": 5.0
            },
            "used_strategies": {
              "strategies": [
                "chunks",
                "colocacoes",
                "substantivos_compostos"
              ],
              "count": 3,
              "diversity_score": 1.0
            },
            "used_assessments": {
              "assessment_stats": {},
              "total_activities": 0
            }
          },
          "precedent_units": [
            {
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "title": "Unidade Hotel reservations and check-i...",
              "sequence": 1,
              "status": "content_pending",
              "vocabulary_count": 14,
              "strategies": [
                "chunks",
                "chunks",
                "chunks",
                "chunks",
                "chunks",
                "chunks",
                "chunks",
                "chunks"
              ],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_0d2ae96c_762d_436e_897d_f38e56ca532f",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 2,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_f0fcce6a_b06b_4673_97d2_29299bd13aad",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 3,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_0cad2215_86be_4ed8_a43c_01a546f8e292",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 4,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_94517b1a_cd3e_402a_81ea_ebc8cc711ed7",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 5,
              "status": "sentences_pending",
              "vocabulary_count": 15,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_b6387498_3fd4_4ff6_9cc7_fda584d08784",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 6,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_8ac71967_d794_4313_88b5_cf9cef0876ad",
              "title": "Unidade Learning present simple tense ...",
              "sequence": 7,
              "status": "sentences_pending",
              "vocabulary_count": 17,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 8,
              "status": "assessments_pending",
              "vocabulary_count": 9,
              "strategies": [
                "substantivos_compostos"
              ],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_92b1e579_0dfb_4841_9c89_4980c904d469",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 9,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_89a16dfd_a991_4fce_9f6a_7f36971f71c8",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 10,
              "status": "assessments_pending",
              "vocabulary_count": 5,
              "strategies": [
                "colocacoes"
              ],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_8a5978ea_02fb_42bf_946b_d29b416a6ef0",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 11,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            }
          ],
          "recommendations": [
            "Estratégias disponíveis: ['afixacao', 'expressoes_fixas', 'idiomas']",
            "Considerar análise fonética IPA para vocabulário",
            "Incluir padrões de pronunciação no conteúdo"
          ],
          "progression_insights": {
            "position_in_book": "12 de 12",
            "vocabulary_growth_rate": 5.0,
            "pedagogical_variety": 3,
            "completion_momentum": 0.0
          }
        },
        "message": "Contexto RAG para unidade 'Unidade Restaurant dining experience w...'",
        "timestamp": "2025-08-21T19:57:45.754604",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
          "sequence": 12
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'unit_info': {'unit_id': 'unit_0fe2f42f_7b84_4286_af81_4d167f5b995e', 'title': 'Unidade Restaurant dining experience w...',..."
    },
    {
      "timestamp": "2025-08-21T16:57:41.576355",
      "category": "VOCABULARY (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/vocabulary",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "response_size": 4996,
      "execution_time_ms": 136802.22,
      "error": null,
      "notes": "Vocabulário baseado em contexto (hotel)",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "vocabulary": {
            "items": [
              {
                "word": "room",
                "phoneme": "/ruːm/",
                "definition": "Quarto",
                "example": "I want a room for three nights.",
                "word_class": "noun",
                "frequency_level": "high",
                "context_relevance": 1.0,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "unstressed",
                "syllable_count": 1,
                "alternative_pronunciations": []
              },
              {
                "word": "single",
                "phoneme": "/ˈsɪŋɡəl/",
                "definition": "Individual (tipo de quarto)",
                "example": "I’d like a single room, please.",
                "word_class": "adjective",
                "frequency_level": "high",
                "context_relevance": 0.95,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 1,
                "alternative_pronunciations": []
              },
              {
                "word": "double",
                "phoneme": "/ˈdʌbəl/",
                "definition": "Duplo (tipo de quarto)",
                "example": "Do you have a double room available?",
                "word_class": "adjective",
                "frequency_level": "high",
                "context_relevance": 0.95,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 1,
                "alternative_pronunciations": []
              },
              {
                "word": "reservation",
                "phoneme": "/ˌrɛzərˈveɪʃən/",
                "definition": "Reserva",
                "example": "My reservation is under the name Silva.",
                "word_class": "noun",
                "frequency_level": "high",
                "context_relevance": 1.0,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 4,
                "alternative_pronunciations": []
              },
              {
                "word": "date",
                "phoneme": "/deɪt/",
                "definition": "Data (dia da reserva)",
                "example": "Please tell me the date of your arrival.",
                "word_class": "noun",
                "frequency_level": "high",
                "context_relevance": 0.95,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "unstressed",
                "syllable_count": 1,
                "alternative_pronunciations": []
              },
              {
                "word": "nights",
                "phoneme": "/naɪts/",
                "definition": "Noites (número de noites)",
                "example": "I need a room for two nights.",
                "word_class": "noun",
                "frequency_level": "high",
                "context_relevance": 0.95,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "unstressed",
                "syllable_count": 1,
                "alternative_pronunciations": []
              },
              {
                "word": "credit card",
                "phoneme": "/ˈkrɛdɪt kɑrd/",
                "definition": "Cartão de crédito",
                "example": "Do you accept a credit card for payment?",
                "word_class": "noun",
                "frequency_level": "high",
                "context_relevance": 0.95,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 3,
                "alternative_pronunciations": []
              },
              {
                "word": "key",
                "phoneme": "/kiː/",
                "definition": "Chave (do quarto)",
                "example": "Here is your room key. Your room number is 205.",
                "word_class": "noun",
                "frequency_level": "high",
                "context_relevance": 0.95,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "unstressed",
                "syllable_count": 1,
                "alternative_pronunciations": []
              },
              {
                "word": "towel",
                "phoneme": "/ˈtaʊəl/",
                "definition": "Toalha",
                "example": "Can I have an extra towel, please?",
                "word_class": "noun",
                "frequency_level": "high",
                "context_relevance": 0.9,
                "is_reinforcement": false,
                "first_introduced_unit": null,
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 2,
                "alternative_pronunciations": []
              }
            ],
            "total_count": 9,
            "context_relevance": 1.0,
            "new_words_count": 9,
            "reinforcement_words_count": 0,
            "rag_context_used": {
              "taught_vocabulary": [],
              "used_strategies": [],
              "progression_level": "high_frequency_basic",
              "vocabulary_density": 0.0
            },
            "progression_level": "high_frequency_basic",
            "phoneme_coverage": {
              "total_unique_phonemes": 27,
              "coverage_score": 90
            },
            "pronunciation_variants": [
              "american_english"
            ],
            "phonetic_complexity": "complex",
            "generated_at": "2025-08-21T20:00:08.187890"
          },
          "generation_stats": {
            "total_words": 9,
            "new_words": 9,
            "reinforcement_words": 0,
            "context_relevance": "100.0%",
            "processing_time": "134.82s"
          },
          "unit_progression": {
            "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "previous_status": "content_pending",
            "new_status": "sentences_pending",
            "next_step": "Gerar sentences conectadas ao vocabulário"
          },
          "rag_context_used": {
            "taught_vocabulary_count": 0,
            "avoided_repetitions": 9,
            "progression_level": "high_frequency_basic",
            "images_analyzed": 0
          },
          "migration_info": {
            "images_analyzed": 0,
            "service_analysis_success": false,
            "vocabulary_from_images": 0,
            "migration_status": "✅ MCP → Service migration completed successfully"
          }
        },
        "message": "Vocabulário gerado com sucesso para unidade 'Unidade Hotel reservations and check-i...' (service integrado)",
        "timestamp": "2025-08-21T20:00:09.609713",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": [
          "Gerar sentences conectadas",
          "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/sentences",
          "Verificar contexto RAG atualizado",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context"
        ]
      },
      "response_preview": "{'success': True, 'data': {'vocabulary': {'items': [{'word': 'room', 'phoneme': '/ruːm/', 'definition': 'Quarto', 'example': 'I want a room for three ..."
    },
    {
      "timestamp": "2025-08-21T16:59:58.379658",
      "category": "VOCABULARY (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/vocabulary",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 4577,
      "execution_time_ms": 1276.3,
      "error": null,
      "notes": "Ver vocabulário gerado (sem imagem)",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "vocabulary": {
            "items": [
              {
                "word": "room",
                "example": "I want a room for three nights.",
                "phoneme": "/ruːm/",
                "definition": "Quarto",
                "word_class": "noun",
                "ipa_variant": "general_american",
                "stress_pattern": "unstressed",
                "syllable_count": 1,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 1.0,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              },
              {
                "word": "single",
                "example": "I’d like a single room, please.",
                "phoneme": "/ˈsɪŋɡəl/",
                "definition": "Individual (tipo de quarto)",
                "word_class": "adjective",
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 1,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 0.95,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              },
              {
                "word": "double",
                "example": "Do you have a double room available?",
                "phoneme": "/ˈdʌbəl/",
                "definition": "Duplo (tipo de quarto)",
                "word_class": "adjective",
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 1,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 0.95,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              },
              {
                "word": "reservation",
                "example": "My reservation is under the name Silva.",
                "phoneme": "/ˌrɛzərˈveɪʃən/",
                "definition": "Reserva",
                "word_class": "noun",
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 4,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 1.0,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              },
              {
                "word": "date",
                "example": "Please tell me the date of your arrival.",
                "phoneme": "/deɪt/",
                "definition": "Data (dia da reserva)",
                "word_class": "noun",
                "ipa_variant": "general_american",
                "stress_pattern": "unstressed",
                "syllable_count": 1,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 0.95,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              },
              {
                "word": "nights",
                "example": "I need a room for two nights.",
                "phoneme": "/naɪts/",
                "definition": "Noites (número de noites)",
                "word_class": "noun",
                "ipa_variant": "general_american",
                "stress_pattern": "unstressed",
                "syllable_count": 1,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 0.95,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              },
              {
                "word": "credit card",
                "example": "Do you accept a credit card for payment?",
                "phoneme": "/ˈkrɛdɪt kɑrd/",
                "definition": "Cartão de crédito",
                "word_class": "noun",
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 3,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 0.95,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              },
              {
                "word": "key",
                "example": "Here is your room key. Your room number is 205.",
                "phoneme": "/kiː/",
                "definition": "Chave (do quarto)",
                "word_class": "noun",
                "ipa_variant": "general_american",
                "stress_pattern": "unstressed",
                "syllable_count": 1,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 0.95,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              },
              {
                "word": "towel",
                "example": "Can I have an extra towel, please?",
                "phoneme": "/ˈtaʊəl/",
                "definition": "Toalha",
                "word_class": "noun",
                "ipa_variant": "general_american",
                "stress_pattern": "primary_first",
                "syllable_count": 2,
                "frequency_level": "high",
                "is_reinforcement": false,
                "context_relevance": 0.9,
                "first_introduced_unit": null,
                "alternative_pronunciations": []
              }
            ],
            "total_count": 9,
            "generated_at": "2025-08-21T20:00:08.187890",
            "new_words_count": 9,
            "phoneme_coverage": {
              "coverage_score": 90,
              "total_unique_phonemes": 27
            },
            "rag_context_used": {
              "used_strategies": [],
              "progression_level": "high_frequency_basic",
              "taught_vocabulary": [],
              "vocabulary_density": 0.0
            },
            "context_relevance": 1.0,
            "progression_level": "high_frequency_basic",
            "phonetic_complexity": "complex",
            "pronunciation_variants": [
              "american_english"
            ],
            "reinforcement_words_count": 0
          },
          "analysis": {
            "total_words": 9,
            "word_class_distribution": {
              "noun": 7,
              "adjective": 2
            },
            "frequency_distribution": {
              "high": 9
            },
            "context_relevance": 1.0,
            "new_words_count": 9,
            "reinforcement_words_count": 0,
            "progression_level": "high_frequency_basic"
          },
          "unit_context": {
            "unit_title": "Unidade Hotel reservations and check-i...",
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "course_name": "Curso de Teste Automático",
            "book_name": "Book de Teste A1",
            "sequence_order": 1
          },
          "has_vocabulary": true
        },
        "message": "Vocabulário da unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T20:00:10.781828",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'vocabulary': {'items': [{'word': 'room', 'example': 'I want a room for three nights.', 'phoneme': '/ruːm/', 'definition': ..."
    },
    {
      "timestamp": "2025-08-21T17:00:06.380844",
      "category": "VOCABULARY (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/vocabulary",
      "method": "POST",
      "status_code": 500,
      "success": false,
      "response_size": 298,
      "execution_time_ms": 150115.71,
      "error": "Failed",
      "notes": "Vocabulário baseado em imagem (restaurante)",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "detail": "Erro interno na geração de vocabulário: 1 validation error for VocabularySection\nitems\n  Value error, Seção de vocabulário deve ter pelo menos 1 item [type=value_error, input_value=[], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.11/v/value_error"
      },
      "response_preview": "{'detail': 'Erro interno na geração de vocabulário: 1 validation error for VocabularySection\\nitems\\n  Value error, Seção de vocabulário deve ter pelo..."
    },
    {
      "timestamp": "2025-08-21T17:02:36.498405",
      "category": "SENTENCES (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/sentences",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "response_size": 5195,
      "execution_time_ms": 62783.55,
      "error": null,
      "notes": "Sentenças contextuais (hotel procedures)",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "sentences": {
            "sentences": [
              {
                "text": "This is a room.",
                "vocabulary_used": [
                  "room"
                ],
                "context_situation": "fallback_context_1",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "room"
                ],
                "phonetic_features": [],
                "pronunciation_notes": null
              },
              {
                "text": "I like single.",
                "vocabulary_used": [
                  "single"
                ],
                "context_situation": "fallback_context_2",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "single"
                ],
                "phonetic_features": [
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ŋ"
              },
              {
                "text": "The double is reservation.",
                "vocabulary_used": [
                  "double",
                  "reservation"
                ],
                "context_situation": "fallback_context_3",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "double",
                  "reservation"
                ],
                "phonetic_features": [
                  "challenging_sounds",
                  "stress_pattern_practice"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ"
              },
              {
                "text": "I have a reservation.",
                "vocabulary_used": [
                  "reservation"
                ],
                "context_situation": "fallback_context_4",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "reservation"
                ],
                "phonetic_features": [
                  "multisyllabic_focus",
                  "challenging_sounds",
                  "stress_pattern_practice"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ"
              },
              {
                "text": "Where is the date?",
                "vocabulary_used": [
                  "date"
                ],
                "context_situation": "fallback_context_5",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "date"
                ],
                "phonetic_features": [],
                "pronunciation_notes": null
              },
              {
                "text": "I'd like to book a nights for credit card.",
                "vocabulary_used": [
                  "nights",
                  "credit card"
                ],
                "context_situation": "fallback_context_6",
                "complexity_level": "intermediate",
                "reinforces_previous": [],
                "introduces_new": [
                  "nights",
                  "credit card"
                ],
                "phonetic_features": [],
                "pronunciation_notes": null
              },
              {
                "text": "This is a credit card.",
                "vocabulary_used": [
                  "credit card"
                ],
                "context_situation": "fallback_context_7",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "credit card"
                ],
                "phonetic_features": [
                  "multisyllabic_focus"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "I like key.",
                "vocabulary_used": [
                  "key"
                ],
                "context_situation": "fallback_context_8",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "key"
                ],
                "phonetic_features": [],
                "pronunciation_notes": null
              },
              {
                "text": "The towel is good.",
                "vocabulary_used": [
                  "towel"
                ],
                "context_situation": "fallback_context_9",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "towel"
                ],
                "phonetic_features": [],
                "pronunciation_notes": null
              },
              {
                "text": "I have a room.",
                "vocabulary_used": [
                  "room"
                ],
                "context_situation": "fallback_context_10",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "room"
                ],
                "phonetic_features": [],
                "pronunciation_notes": null
              },
              {
                "text": "Where is the room?",
                "vocabulary_used": [
                  "room"
                ],
                "context_situation": "fallback_context_11",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "room"
                ],
                "phonetic_features": [],
                "pronunciation_notes": null
              },
              {
                "text": "I'd like to book a room for single.",
                "vocabulary_used": [
                  "room",
                  "single"
                ],
                "context_situation": "fallback_context_12",
                "complexity_level": "intermediate",
                "reinforces_previous": [],
                "introduces_new": [
                  "room",
                  "single"
                ],
                "phonetic_features": [
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ŋ"
              }
            ],
            "vocabulary_coverage": 1.0,
            "contextual_coherence": 0.16666666666666666,
            "progression_appropriateness": 0.8333333333333334,
            "phonetic_progression": [
              "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 3: 2 phonetic elements, avg 2.5 syllables",
              "Sentence 4: 1 phonetic elements, avg 4.0 syllables",
              "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 6: 2 phonetic elements, avg 2.0 syllables",
              "Sentence 7: 1 phonetic elements, avg 3.0 syllables",
              "Sentence 8: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 9: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 12: 2 phonetic elements, avg 1.0 syllables"
            ],
            "pronunciation_patterns": [
              "Stress patterns: 2 types across sentences",
              "Syllable complexity: avg 1.7, max 4",
              "Vowel focus: 4 challenging vowel sounds",
              "Consonant focus: 2 challenging consonants"
            ],
            "generated_at": "2025-08-21T20:03:38.832202"
          },
          "generation_stats": {
            "total_sentences": 12,
            "vocabulary_coverage": "100.0%",
            "contextual_coherence": "16.7%",
            "processing_time": "49.70s"
          },
          "unit_progression": {
            "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "previous_status": "sentences_pending",
            "new_status": "content_pending",
            "next_step": "Gerar estratégias (TIPS ou GRAMMAR)"
          },
          "rag_context_used": {
            "taught_vocabulary_count": 0,
            "reinforcement_words": 0,
            "progression_level": "basic_introduction"
          }
        },
        "message": "Sentences geradas com sucesso para unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T20:03:50.944398",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": [
          "Gerar TIPS",
          "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
          "Verificar contexto RAG atualizado",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context"
        ]
      },
      "response_preview": "{'success': True, 'data': {'sentences': {'sentences': [{'text': 'This is a room.', 'vocabulary_used': ['room'], 'context_situation': 'fallback_context..."
    },
    {
      "timestamp": "2025-08-21T17:03:39.282482",
      "category": "SENTENCES (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/sentences",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 5016,
      "execution_time_ms": 838.31,
      "error": null,
      "notes": "Ver sentenças geradas (sem imagem)",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "sentences": {
            "sentences": [
              {
                "text": "This is a room.",
                "introduces_new": [
                  "room"
                ],
                "vocabulary_used": [
                  "room"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_1",
                "phonetic_features": [],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "I like single.",
                "introduces_new": [
                  "single"
                ],
                "vocabulary_used": [
                  "single"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_2",
                "phonetic_features": [
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ŋ",
                "reinforces_previous": []
              },
              {
                "text": "The double is reservation.",
                "introduces_new": [
                  "double",
                  "reservation"
                ],
                "vocabulary_used": [
                  "double",
                  "reservation"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_3",
                "phonetic_features": [
                  "challenging_sounds",
                  "stress_pattern_practice"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ",
                "reinforces_previous": []
              },
              {
                "text": "I have a reservation.",
                "introduces_new": [
                  "reservation"
                ],
                "vocabulary_used": [
                  "reservation"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_4",
                "phonetic_features": [
                  "multisyllabic_focus",
                  "challenging_sounds",
                  "stress_pattern_practice"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ",
                "reinforces_previous": []
              },
              {
                "text": "Where is the date?",
                "introduces_new": [
                  "date"
                ],
                "vocabulary_used": [
                  "date"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_5",
                "phonetic_features": [],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "I'd like to book a nights for credit card.",
                "introduces_new": [
                  "nights",
                  "credit card"
                ],
                "vocabulary_used": [
                  "nights",
                  "credit card"
                ],
                "complexity_level": "intermediate",
                "context_situation": "fallback_context_6",
                "phonetic_features": [],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "This is a credit card.",
                "introduces_new": [
                  "credit card"
                ],
                "vocabulary_used": [
                  "credit card"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_7",
                "phonetic_features": [
                  "multisyllabic_focus"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "I like key.",
                "introduces_new": [
                  "key"
                ],
                "vocabulary_used": [
                  "key"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_8",
                "phonetic_features": [],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "The towel is good.",
                "introduces_new": [
                  "towel"
                ],
                "vocabulary_used": [
                  "towel"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_9",
                "phonetic_features": [],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "I have a room.",
                "introduces_new": [
                  "room"
                ],
                "vocabulary_used": [
                  "room"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_10",
                "phonetic_features": [],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "Where is the room?",
                "introduces_new": [
                  "room"
                ],
                "vocabulary_used": [
                  "room"
                ],
                "complexity_level": "simple",
                "context_situation": "fallback_context_11",
                "phonetic_features": [],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "I'd like to book a room for single.",
                "introduces_new": [
                  "room",
                  "single"
                ],
                "vocabulary_used": [
                  "room",
                  "single"
                ],
                "complexity_level": "intermediate",
                "context_situation": "fallback_context_12",
                "phonetic_features": [
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ŋ",
                "reinforces_previous": []
              }
            ],
            "generated_at": "2025-08-21T20:03:38.832202",
            "vocabulary_coverage": 1.0,
            "contextual_coherence": 0.16666666666666666,
            "phonetic_progression": [
              "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 3: 2 phonetic elements, avg 2.5 syllables",
              "Sentence 4: 1 phonetic elements, avg 4.0 syllables",
              "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 6: 2 phonetic elements, avg 2.0 syllables",
              "Sentence 7: 1 phonetic elements, avg 3.0 syllables",
              "Sentence 8: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 9: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 12: 2 phonetic elements, avg 1.0 syllables"
            ],
            "pronunciation_patterns": [
              "Stress patterns: 2 types across sentences",
              "Syllable complexity: avg 1.7, max 4",
              "Vowel focus: 4 challenging vowel sounds",
              "Consonant focus: 2 challenging consonants"
            ],
            "progression_appropriateness": 0.8333333333333334
          },
          "analysis": {
            "total_sentences": 12,
            "unique_vocabulary_used": 9,
            "vocabulary_coverage": 1.0,
            "complexity_distribution": {
              "simple": 10,
              "intermediate": 2
            },
            "contextual_coherence": 0.16666666666666666,
            "progression_appropriateness": 0.8333333333333334
          },
          "unit_context": {
            "unit_title": "Unidade Hotel reservations and check-i...",
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "course_name": "Curso de Teste Automático",
            "book_name": "Book de Teste A1",
            "sequence_order": 1
          },
          "has_sentences": true
        },
        "message": "Sentences da unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T20:03:51.784235",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'sentences': {'sentences': [{'text': 'This is a room.', 'introduces_new': ['room'], 'vocabulary_used': ['room'], 'complexit..."
    },
    {
      "timestamp": "2025-08-21T17:03:47.283544",
      "category": "SENTENCES (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/sentences",
      "method": "POST",
      "status_code": 400,
      "success": false,
      "response_size": 792,
      "execution_time_ms": 321.02,
      "error": "Failed",
      "notes": "Sentenças visuais (restaurant scene)",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "BAD_REQUEST",
        "message": "Requisição inválida",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/sentences",
          "method": "POST",
          "request_id": "53e578dd-3ca6-4652-86fe-7e11259b05e0",
          "error_description": "400: Unidade ainda não possui vocabulário. Gere o vocabulário primeiro."
        },
        "suggestions": [
          "Verifique a estrutura da requisição",
          "Confirme que a hierarquia está correta",
          "Para uploads: máximo 10MB por imagem",
          "Consulte a documentação em /docs"
        ],
        "hierarchical_requirements": {
          "course_creation": "Requer name, target_levels, language_variant",
          "book_creation": "Requer course_id válido e target_level",
          "unit_creation": "Requer book_id válido e pelo menos 1 imagem",
          "content_generation": "Requer unit_id válido e status adequado"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'BAD_REQUEST', 'message': 'Requisição inválida', 'details': {'path': 'http://localhost:8000/api/v2/units/unit_0fe2f42..."
    },
    {
      "timestamp": "2025-08-21T17:03:55.284379",
      "category": "TIPS (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "response_size": 2236,
      "execution_time_ms": 4458.81,
      "error": null,
      "notes": "TIPS para contexto de hotel",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "tips": {
            "strategy": "chunks",
            "title": "TIP: Estratégia Contextual",
            "explanation": "Esta estratégia foca em aprender vocabulário através do contexto específico da unidade.",
            "examples": [
              "Use as palavras novas em frases contextualizadas",
              "Conecte vocabulário novo com palavras conhecidas",
              "Pratique em situações comunicativas reais"
            ],
            "practice_suggestions": [
              "Crie frases próprias com cada palavra nova",
              "Pratique conversações usando o vocabulário"
            ],
            "memory_techniques": [
              "Use associações visuais com as palavras",
              "Agrupe palavras por temas ou situações"
            ],
            "vocabulary_coverage": [
              "room",
              "single",
              "double",
              "reservation",
              "date",
              "nights",
              "credit card",
              "key"
            ],
            "complementary_strategies": [
              "afixacao",
              "substantivos_compostos",
              "colocacoes"
            ],
            "selection_rationale": "Estratégia chunks apropriada para o contexto",
            "phonetic_focus": [
              "pronunciation_awareness"
            ],
            "pronunciation_tips": [
              "Practice clear articulation"
            ]
          },
          "generation_stats": {
            "strategy_selected": "chunks",
            "vocabulary_coverage": 8,
            "total_examples": 3,
            "practice_suggestions": 2,
            "processing_time": "2.26s"
          },
          "unit_progression": {
            "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "previous_status": "content_pending",
            "new_status": "assessments_pending",
            "next_step": "Gerar assessments para finalizar a unidade"
          },
          "strategy_analysis": {
            "selected_strategy": "chunks",
            "selection_rationale": "Estratégia chunks apropriada para o contexto",
            "used_strategies_context": [],
            "complementary_strategies": [
              "afixacao",
              "substantivos_compostos",
              "colocacoes"
            ],
            "phonetic_focus": [
              "pronunciation_awareness"
            ]
          }
        },
        "message": "Estratégia TIPS 'chunks' gerada com sucesso para unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T20:04:11.135525",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": [
          "Gerar assessments para finalizar",
          "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/assessments",
          "Verificar estratégia aplicada",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
          "Analisar qualidade da estratégia",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips/analysis"
        ]
      },
      "response_preview": "{'success': True, 'data': {'tips': {'strategy': 'chunks', 'title': 'TIP: Estratégia Contextual', 'explanation': 'Esta estratégia foca em aprender voca..."
    },
    {
      "timestamp": "2025-08-21T17:03:59.743710",
      "category": "TIPS (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 2040,
      "execution_time_ms": 856.06,
      "error": null,
      "notes": "Ver TIPS geradas (sem imagem)",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "tips": {
            "title": "TIP: Estratégia Contextual",
            "examples": [
              "Use as palavras novas em frases contextualizadas",
              "Conecte vocabulário novo com palavras conhecidas",
              "Pratique em situações comunicativas reais"
            ],
            "strategy": "chunks",
            "explanation": "Esta estratégia foca em aprender vocabulário através do contexto específico da unidade.",
            "phonetic_focus": [
              "pronunciation_awareness"
            ],
            "memory_techniques": [
              "Use associações visuais com as palavras",
              "Agrupe palavras por temas ou situações"
            ],
            "pronunciation_tips": [
              "Practice clear articulation"
            ],
            "selection_rationale": "Estratégia chunks apropriada para o contexto",
            "vocabulary_coverage": [
              "room",
              "single",
              "double",
              "reservation",
              "date",
              "nights",
              "credit card",
              "key"
            ],
            "practice_suggestions": [
              "Crie frases próprias com cada palavra nova",
              "Pratique conversações usando o vocabulário"
            ],
            "complementary_strategies": [
              "afixacao",
              "substantivos_compostos",
              "colocacoes"
            ]
          },
          "analysis": {
            "strategy_used": "chunks",
            "vocabulary_coverage": 8,
            "examples_count": 3,
            "practice_suggestions_count": 2,
            "memory_techniques_count": 2,
            "phonetic_focus": [
              "pronunciation_awareness"
            ],
            "pronunciation_tips": [
              "Practice clear articulation"
            ]
          },
          "unit_context": {
            "unit_title": "Unidade Hotel reservations and check-i...",
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "unit_status": "assessments_pending",
            "course_name": "Curso de Teste Automático",
            "book_name": "Book de Teste A1",
            "sequence_order": 1
          },
          "strategy_context": {
            "selection_rationale": "Estratégia chunks apropriada para o contexto",
            "complementary_strategies": [
              "afixacao",
              "substantivos_compostos",
              "colocacoes"
            ],
            "vocabulary_integration": [
              "room",
              "single",
              "double",
              "reservation",
              "date",
              "nights",
              "credit card",
              "key"
            ]
          },
          "has_tips": true
        },
        "message": "Estratégias TIPS da unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T20:04:11.920346",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'tips': {'title': 'TIP: Estratégia Contextual', 'examples': ['Use as palavras novas em frases contextualizadas', 'Conecte v..."
    },
    {
      "timestamp": "2025-08-21T17:04:07.744299",
      "category": "TIPS (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/tips",
      "method": "POST",
      "status_code": 400,
      "success": false,
      "response_size": 782,
      "execution_time_ms": 239.39,
      "error": "Failed",
      "notes": "TIPS para contexto de restaurante",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "BAD_REQUEST",
        "message": "Requisição inválida",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/tips",
          "method": "POST",
          "request_id": "283294b2-f87d-4a09-a010-20590c22155a",
          "error_description": "400: Unidade deve ter vocabulário e sentences antes de gerar TIPS."
        },
        "suggestions": [
          "Verifique a estrutura da requisição",
          "Confirme que a hierarquia está correta",
          "Para uploads: máximo 10MB por imagem",
          "Consulte a documentação em /docs"
        ],
        "hierarchical_requirements": {
          "course_creation": "Requer name, target_levels, language_variant",
          "book_creation": "Requer course_id válido e target_level",
          "unit_creation": "Requer book_id válido e pelo menos 1 imagem",
          "content_generation": "Requer unit_id válido e status adequado"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'BAD_REQUEST', 'message': 'Requisição inválida', 'details': {'path': 'http://localhost:8000/api/v2/units/unit_0fe2f42..."
    },
    {
      "timestamp": "2025-08-21T17:04:15.745577",
      "category": "QA (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/qa",
      "method": "POST",
      "status_code": 429,
      "success": false,
      "response_size": 728,
      "execution_time_ms": 24.37,
      "error": "Failed",
      "notes": "Q&A sobre hotel procedures",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "RATE_LIMIT_EXCEEDED",
        "message": "Limite de requisições excedido",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/qa",
          "method": "POST",
          "storage_type": "in-memory",
          "retry_after": 60,
          "request_id": "aa2f1550-21a9-4ba7-b465-f41becbc1e8c"
        },
        "suggestions": [
          "Aguarde 60 segundos antes de tentar novamente",
          "Considere implementar cache local para reduzir requests",
          "Verifique se não há requests desnecessários em loop",
          "Para operações em lote, use paginação adequada"
        ],
        "rate_limit_info": {
          "check_limits": "GET /system/rate-limits para ver limites específicos",
          "storage": "In-memory (Redis migration available)",
          "windows": "Janelas deslizantes com cleanup automático"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'RATE_LIMIT_EXCEEDED', 'message': 'Limite de requisições excedido', 'details': {'path': 'http://localhost:8000/api/v2..."
    },
    {
      "timestamp": "2025-08-21T17:04:23.746968",
      "category": "QA (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/qa",
      "method": "POST",
      "status_code": 429,
      "success": false,
      "response_size": 728,
      "execution_time_ms": 26.36,
      "error": "Failed",
      "notes": "Q&A sobre restaurant scene",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "RATE_LIMIT_EXCEEDED",
        "message": "Limite de requisições excedido",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/qa",
          "method": "POST",
          "storage_type": "in-memory",
          "retry_after": 60,
          "request_id": "bdd738ea-b686-4f85-8c42-bfa6216297a0"
        },
        "suggestions": [
          "Aguarde 60 segundos antes de tentar novamente",
          "Considere implementar cache local para reduzir requests",
          "Verifique se não há requests desnecessários em loop",
          "Para operações em lote, use paginação adequada"
        ],
        "rate_limit_info": {
          "check_limits": "GET /system/rate-limits para ver limites específicos",
          "storage": "In-memory (Redis migration available)",
          "windows": "Janelas deslizantes com cleanup automático"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'RATE_LIMIT_EXCEEDED', 'message': 'Limite de requisições excedido', 'details': {'path': 'http://localhost:8000/api/v2..."
    },
    {
      "timestamp": "2025-08-21T17:04:31.748511",
      "category": "GRAMMAR (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/grammar",
      "method": "POST",
      "status_code": 429,
      "success": false,
      "response_size": 733,
      "execution_time_ms": 14.4,
      "error": "Failed",
      "notes": "GRAMMAR para contexto de hotel + análise L1",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "RATE_LIMIT_EXCEEDED",
        "message": "Limite de requisições excedido",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/grammar",
          "method": "POST",
          "storage_type": "in-memory",
          "retry_after": 60,
          "request_id": "2015c454-89db-4c9c-9ca0-7486cf7ef2f9"
        },
        "suggestions": [
          "Aguarde 60 segundos antes de tentar novamente",
          "Considere implementar cache local para reduzir requests",
          "Verifique se não há requests desnecessários em loop",
          "Para operações em lote, use paginação adequada"
        ],
        "rate_limit_info": {
          "check_limits": "GET /system/rate-limits para ver limites específicos",
          "storage": "In-memory (Redis migration available)",
          "windows": "Janelas deslizantes com cleanup automático"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'RATE_LIMIT_EXCEEDED', 'message': 'Limite de requisições excedido', 'details': {'path': 'http://localhost:8000/api/v2..."
    },
    {
      "timestamp": "2025-08-21T17:04:36.749245",
      "category": "GRAMMAR (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/grammar",
      "method": "POST",
      "status_code": 429,
      "success": false,
      "response_size": 733,
      "execution_time_ms": 12.22,
      "error": "Failed",
      "notes": "GRAMMAR para contexto de restaurante + análise L1",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "RATE_LIMIT_EXCEEDED",
        "message": "Limite de requisições excedido",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/grammar",
          "method": "POST",
          "storage_type": "in-memory",
          "retry_after": 60,
          "request_id": "b1bd7be6-3cf3-401f-98cd-3bdeac497071"
        },
        "suggestions": [
          "Aguarde 60 segundos antes de tentar novamente",
          "Considere implementar cache local para reduzir requests",
          "Verifique se não há requests desnecessários em loop",
          "Para operações em lote, use paginação adequada"
        ],
        "rate_limit_info": {
          "check_limits": "GET /system/rate-limits para ver limites específicos",
          "storage": "In-memory (Redis migration available)",
          "windows": "Janelas deslizantes com cleanup automático"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'RATE_LIMIT_EXCEEDED', 'message': 'Limite de requisições excedido', 'details': {'path': 'http://localhost:8000/api/v2..."
    },
    {
      "timestamp": "2025-08-21T17:04:44.749749",
      "category": "ASSESSMENTS (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/assessments",
      "method": "POST",
      "status_code": 500,
      "success": false,
      "response_size": 136,
      "execution_time_ms": 1327.83,
      "error": "Failed",
      "notes": "Assessments para hotel context",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "detail": "Erro interno na geração de assessments: 'AssessmentSelectorService' object has no attribute 'generate_assessments_for_unit'"
      },
      "response_preview": "{'detail': \"Erro interno na geração de assessments: 'AssessmentSelectorService' object has no attribute 'generate_assessments_for_unit'\"}..."
    },
    {
      "timestamp": "2025-08-21T17:04:52.750748",
      "category": "ASSESSMENTS (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/assessments",
      "method": "POST",
      "status_code": 400,
      "success": false,
      "response_size": 830,
      "execution_time_ms": 291.94,
      "error": "Failed",
      "notes": "Assessments para restaurant scene",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "BAD_REQUEST",
        "message": "Requisição inválida",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/assessments",
          "method": "POST",
          "request_id": "8c16bd11-c714-4d12-8733-53a47a80703c",
          "error_description": "400: Unidade ainda não está pronta para assessments. Complete vocabulário, sentences e strategies primeiro."
        },
        "suggestions": [
          "Verifique a estrutura da requisição",
          "Confirme que a hierarquia está correta",
          "Para uploads: máximo 10MB por imagem",
          "Consulte a documentação em /docs"
        ],
        "hierarchical_requirements": {
          "course_creation": "Requer name, target_levels, language_variant",
          "book_creation": "Requer course_id válido e target_level",
          "unit_creation": "Requer book_id válido e pelo menos 1 imagem",
          "content_generation": "Requer unit_id válido e status adequado"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'BAD_REQUEST', 'message': 'Requisição inválida', 'details': {'path': 'http://localhost:8000/api/v2/units/unit_0fe2f42..."
    },
    {
      "timestamp": "2025-08-21T17:04:54.752216",
      "category": "COMPARISON (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/complete-content",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 10088,
      "execution_time_ms": 563.29,
      "error": null,
      "notes": "Conteúdo completo - baseado em contexto",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_info": {
            "id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "title": "Unidade Hotel reservations and check-i...",
            "context": "Hotel reservations and check-in procedures. Learning how to book rooms, ask for amenities, and handle check-in/check-out processes in English.",
            "cefr_level": "A1",
            "language_variant": "american_english",
            "unit_type": "lexical_unit",
            "status": "assessments_pending",
            "sequence_order": 1,
            "quality_score": null
          },
          "hierarchy_context": {
            "course_name": "Curso de Teste Automático",
            "book_name": "Book de Teste A1",
            "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
            "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1"
          },
          "generated_content": {
            "main_aim": null,
            "subsidiary_aims": [],
            "vocabulary": {
              "items": [
                {
                  "word": "room",
                  "example": "I want a room for three nights.",
                  "phoneme": "/ruːm/",
                  "definition": "Quarto",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "single",
                  "example": "I’d like a single room, please.",
                  "phoneme": "/ˈsɪŋɡəl/",
                  "definition": "Individual (tipo de quarto)",
                  "word_class": "adjective",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.95,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "double",
                  "example": "Do you have a double room available?",
                  "phoneme": "/ˈdʌbəl/",
                  "definition": "Duplo (tipo de quarto)",
                  "word_class": "adjective",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.95,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "reservation",
                  "example": "My reservation is under the name Silva.",
                  "phoneme": "/ˌrɛzərˈveɪʃən/",
                  "definition": "Reserva",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 4,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "date",
                  "example": "Please tell me the date of your arrival.",
                  "phoneme": "/deɪt/",
                  "definition": "Data (dia da reserva)",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.95,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "nights",
                  "example": "I need a room for two nights.",
                  "phoneme": "/naɪts/",
                  "definition": "Noites (número de noites)",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.95,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "credit card",
                  "example": "Do you accept a credit card for payment?",
                  "phoneme": "/ˈkrɛdɪt kɑrd/",
                  "definition": "Cartão de crédito",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 3,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.95,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "key",
                  "example": "Here is your room key. Your room number is 205.",
                  "phoneme": "/kiː/",
                  "definition": "Chave (do quarto)",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.95,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "towel",
                  "example": "Can I have an extra towel, please?",
                  "phoneme": "/ˈtaʊəl/",
                  "definition": "Toalha",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.9,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                }
              ],
              "total_count": 9,
              "generated_at": "2025-08-21T20:00:08.187890",
              "new_words_count": 9,
              "phoneme_coverage": {
                "coverage_score": 90,
                "total_unique_phonemes": 27
              },
              "rag_context_used": {
                "used_strategies": [],
                "progression_level": "high_frequency_basic",
                "taught_vocabulary": [],
                "vocabulary_density": 0.0
              },
              "context_relevance": 1.0,
              "progression_level": "high_frequency_basic",
              "phonetic_complexity": "complex",
              "pronunciation_variants": [
                "american_english"
              ],
              "reinforcement_words_count": 0
            },
            "sentences": {
              "sentences": [
                {
                  "text": "This is a room.",
                  "introduces_new": [
                    "room"
                  ],
                  "vocabulary_used": [
                    "room"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_1",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I like single.",
                  "introduces_new": [
                    "single"
                  ],
                  "vocabulary_used": [
                    "single"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_2",
                  "phonetic_features": [
                    "challenging_sounds"
                  ],
                  "pronunciation_notes": "Focus on sounds: ŋ",
                  "reinforces_previous": []
                },
                {
                  "text": "The double is reservation.",
                  "introduces_new": [
                    "double",
                    "reservation"
                  ],
                  "vocabulary_used": [
                    "double",
                    "reservation"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_3",
                  "phonetic_features": [
                    "challenging_sounds",
                    "stress_pattern_practice"
                  ],
                  "pronunciation_notes": "Focus on sounds: ʃ",
                  "reinforces_previous": []
                },
                {
                  "text": "I have a reservation.",
                  "introduces_new": [
                    "reservation"
                  ],
                  "vocabulary_used": [
                    "reservation"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_4",
                  "phonetic_features": [
                    "multisyllabic_focus",
                    "challenging_sounds",
                    "stress_pattern_practice"
                  ],
                  "pronunciation_notes": "Focus on sounds: ʃ",
                  "reinforces_previous": []
                },
                {
                  "text": "Where is the date?",
                  "introduces_new": [
                    "date"
                  ],
                  "vocabulary_used": [
                    "date"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_5",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I'd like to book a nights for credit card.",
                  "introduces_new": [
                    "nights",
                    "credit card"
                  ],
                  "vocabulary_used": [
                    "nights",
                    "credit card"
                  ],
                  "complexity_level": "intermediate",
                  "context_situation": "fallback_context_6",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "This is a credit card.",
                  "introduces_new": [
                    "credit card"
                  ],
                  "vocabulary_used": [
                    "credit card"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_7",
                  "phonetic_features": [
                    "multisyllabic_focus"
                  ],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I like key.",
                  "introduces_new": [
                    "key"
                  ],
                  "vocabulary_used": [
                    "key"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_8",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "The towel is good.",
                  "introduces_new": [
                    "towel"
                  ],
                  "vocabulary_used": [
                    "towel"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_9",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I have a room.",
                  "introduces_new": [
                    "room"
                  ],
                  "vocabulary_used": [
                    "room"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_10",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "Where is the room?",
                  "introduces_new": [
                    "room"
                  ],
                  "vocabulary_used": [
                    "room"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "fallback_context_11",
                  "phonetic_features": [],
                  "pronunciation_notes": null,
                  "reinforces_previous": []
                },
                {
                  "text": "I'd like to book a room for single.",
                  "introduces_new": [
                    "room",
                    "single"
                  ],
                  "vocabulary_used": [
                    "room",
                    "single"
                  ],
                  "complexity_level": "intermediate",
                  "context_situation": "fallback_context_12",
                  "phonetic_features": [
                    "challenging_sounds"
                  ],
                  "pronunciation_notes": "Focus on sounds: ŋ",
                  "reinforces_previous": []
                }
              ],
              "generated_at": "2025-08-21T20:03:38.832202",
              "vocabulary_coverage": 1.0,
              "contextual_coherence": 0.16666666666666666,
              "phonetic_progression": [
                "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 3: 2 phonetic elements, avg 2.5 syllables",
                "Sentence 4: 1 phonetic elements, avg 4.0 syllables",
                "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 6: 2 phonetic elements, avg 2.0 syllables",
                "Sentence 7: 1 phonetic elements, avg 3.0 syllables",
                "Sentence 8: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 9: 1 phonetic elements, avg 2.0 syllables",
                "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 12: 2 phonetic elements, avg 1.0 syllables"
              ],
              "pronunciation_patterns": [
                "Stress patterns: 2 types across sentences",
                "Syllable complexity: avg 1.7, max 4",
                "Vowel focus: 4 challenging vowel sounds",
                "Consonant focus: 2 challenging consonants"
              ],
              "progression_appropriateness": 0.8333333333333334
            },
            "tips": {
              "title": "TIP: Estratégia Contextual",
              "examples": [
                "Use as palavras novas em frases contextualizadas",
                "Conecte vocabulário novo com palavras conhecidas",
                "Pratique em situações comunicativas reais"
              ],
              "strategy": "chunks",
              "explanation": "Esta estratégia foca em aprender vocabulário através do contexto específico da unidade.",
              "phonetic_focus": [
                "pronunciation_awareness"
              ],
              "memory_techniques": [
                "Use associações visuais com as palavras",
                "Agrupe palavras por temas ou situações"
              ],
              "pronunciation_tips": [
                "Practice clear articulation"
              ],
              "selection_rationale": "Estratégia chunks apropriada para o contexto",
              "vocabulary_coverage": [
                "room",
                "single",
                "double",
                "reservation",
                "date",
                "nights",
                "credit card",
                "key"
              ],
              "practice_suggestions": [
                "Crie frases próprias com cada palavra nova",
                "Pratique conversações usando o vocabulário"
              ],
              "complementary_strategies": [
                "afixacao",
                "substantivos_compostos",
                "colocacoes"
              ]
            },
            "grammar": null,
            "assessments": null,
            "qa": null
          },
          "content_summary": {
            "has_vocabulary": true,
            "has_sentences": true,
            "has_strategies": true,
            "has_assessments": false,
            "has_qa": false,
            "completion_percentage": 75.0
          },
          "images": []
        },
        "message": "Conteúdo completo da unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T20:05:06.967065",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'unit_info': {'id': 'unit_e7bbcdea_e580_461e_89d2_271750de7ba3', 'title': 'Unidade Hotel reservations and check-i...', 'con..."
    },
    {
      "timestamp": "2025-08-21T17:04:56.755530",
      "category": "COMPARISON (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_0fe2f42f_7b84_4286_af81_4d167f5b995e/complete-content",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 1554,
      "execution_time_ms": 532.33,
      "error": null,
      "notes": "Conteúdo completo - baseado em imagem",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_info": {
            "id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
            "title": "Unidade Restaurant dining experience w...",
            "context": "Restaurant dining experience with menu, ordering food, and payment",
            "cefr_level": "A1",
            "language_variant": "american_english",
            "unit_type": "lexical_unit",
            "status": "creating",
            "sequence_order": 12,
            "quality_score": null
          },
          "hierarchy_context": {
            "course_name": "Curso de Teste Automático",
            "book_name": "Book de Teste A1",
            "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
            "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1"
          },
          "generated_content": {
            "main_aim": null,
            "subsidiary_aims": [],
            "vocabulary": null,
            "sentences": null,
            "tips": null,
            "grammar": null,
            "assessments": null,
            "qa": null
          },
          "content_summary": {
            "has_vocabulary": false,
            "has_sentences": false,
            "has_strategies": false,
            "has_assessments": false,
            "has_qa": false,
            "completion_percentage": 0.0
          },
          "images": [
            {
              "size": 118,
              "base64": "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEklEQVR4nGP4DwAAAAABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJRU5ErkJggg==",
              "filename": "restaurant_scene.png",
              "is_primary": true,
              "description": "Primeira imagem - análise pendente",
              "content_type": "image/png"
            }
          ]
        },
        "message": "Conteúdo completo da unidade 'Unidade Restaurant dining experience w...'",
        "timestamp": "2025-08-21T20:05:08.940941",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_0fe2f42f_7b84_4286_af81_4d167f5b995e",
          "sequence": 12
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'unit_info': {'id': 'unit_0fe2f42f_7b84_4286_af81_4d167f5b995e', 'title': 'Unidade Restaurant dining experience w...', 'con..."
    }
  ]
}