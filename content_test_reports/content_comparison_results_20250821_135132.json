{
  "metadata": {
    "timestamp": "2025-08-21T13:51:32.033256",
    "base_url": "http://localhost:8000",
    "total_tests": 21,
    "successful_tests": 9,
    "success_rate": 42.857142857142854,
    "test_ids": {
      "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
      "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
      "unit_no_image": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
      "unit_with_image": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e"
    },
    "rate_limiting": {
      "enabled": true,
      "limits": {
        "default": 2.0,
        "create_unit": 3.0,
        "generate_content": 5.0,
        "generate_vocabulary": 8.0,
        "generate_sentences": 8.0,
        "generate_tips": 8.0,
        "generate_qa": 8.0,
        "generate_grammar": 8.0,
        "generate_assessments": 8.0
      },
      "purpose": "Evitar sobrecarga e respeitar limites da OpenAI API"
    }
  },
  "comparison_stats": {
    "no_image_tests": 10,
    "no_image_success": 4,
    "with_image_tests": 11,
    "with_image_success": 5
  },
  "generated_content": {
    "NO_IMAGE": {
      "CONTEXT": [
        {
          "timestamp": "2025-08-21T13:45:07.280718",
          "data": {
            "success": true,
            "data": {
              "unit_data": {
                "id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                "sequence_order": 1,
                "title": "Unidade Hotel reservations and check-i...",
                "main_aim": null,
                "subsidiary_aims": [],
                "context": "Hotel reservations and check-in procedures. Learning how to book rooms, ask for amenities, and handle check-in/check-out processes in English.",
                "cefr_level": "A1",
                "language_variant": "american_english",
                "unit_type": "lexical_unit",
                "images": [],
                "vocabulary": {
                  "items": [
                    {
                      "word": "reserve",
                      "example": "I would like to reserve a room for two nights.",
                      "phoneme": "/rɪˈzɜrv/",
                      "definition": "reservar",
                      "word_class": "verb",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "room",
                      "example": "We need a double room for our stay.",
                      "phoneme": "/ruːm/",
                      "definition": "quarto",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "key",
                      "example": "Here is your key for room 205.",
                      "phoneme": "/kiː/",
                      "definition": "chave",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.9,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "check-in",
                      "example": "What time is check-in at the hotel?",
                      "phoneme": "/ˈtʃɛkˌɪn/",
                      "definition": "check-in, entrada",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "check-out",
                      "example": "You must check-out before noon.",
                      "phoneme": "/ˈtʃɛkˌaʊt/",
                      "definition": "check-out, saída",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "night",
                      "example": "How many nights will you be staying?",
                      "phoneme": "/naɪt/",
                      "definition": "noite",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "unstressed",
                      "syllable_count": 1,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 0.9,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "amenity",
                      "example": "Does the room have Wi-Fi amenity?",
                      "phoneme": "/əˈmɛnɪti/",
                      "definition": "comodidade",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 4,
                      "frequency_level": "medium",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "reservation",
                      "example": "I have a reservation under the name Smith.",
                      "phoneme": "/ˌrɛzərˈveɪʃən/",
                      "definition": "reserva",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 4,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "confirm",
                      "example": "Let me confirm your room reservation.",
                      "phoneme": "/kənˈfɜrm/",
                      "definition": "confirmar",
                      "word_class": "verb",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "medium",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "passport",
                      "example": "Please show your passport at check-in.",
                      "phoneme": "/ˈpæspɔrt/",
                      "definition": "passaporte",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 2,
                      "frequency_level": "medium",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "credit card",
                      "example": "You can pay for your room with a credit card.",
                      "phoneme": "/ˈkrɛdɪt ˌkɑrd/",
                      "definition": "cartão de crédito",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 3,
                      "frequency_level": "high",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    },
                    {
                      "word": "availability",
                      "example": "What is the availability for a single room?",
                      "phoneme": "/əˌveɪləˈbɪlɪti/",
                      "definition": "disponibilidade",
                      "word_class": "noun",
                      "ipa_variant": "general_american",
                      "stress_pattern": "primary_first",
                      "syllable_count": 6,
                      "frequency_level": "medium",
                      "is_reinforcement": false,
                      "context_relevance": 1.0,
                      "first_introduced_unit": null,
                      "alternative_pronunciations": []
                    }
                  ],
                  "total_count": 12,
                  "generated_at": "2025-08-21T11:12:57.436728",
                  "new_words_count": 12,
                  "phoneme_coverage": {
                    "coverage_score": 96,
                    "total_unique_phonemes": 29
                  },
                  "rag_context_used": {
                    "used_strategies": [],
                    "progression_level": "high_frequency_basic",
                    "taught_vocabulary": [],
                    "vocabulary_density": 0.0
                  },
                  "context_relevance": 1.0,
                  "progression_level": "high_frequency_basic",
                  "phonetic_complexity": "complex",
                  "pronunciation_variants": [
                    "american_english"
                  ],
                  "reinforcement_words_count": 0
                },
                "sentences": {
                  "sentences": [
                    {
                      "text": "I reserve a room.",
                      "introduces_new": [
                        "reserve",
                        "room"
                      ],
                      "vocabulary_used": [
                        "reserve",
                        "room"
                      ],
                      "complexity_level": "very_simple",
                      "context_situation": "Making a basic hotel reservation.",
                      "phonetic_features": [
                        "stress_pattern"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Room key, please.",
                      "introduces_new": [
                        "key"
                      ],
                      "vocabulary_used": [
                        "room",
                        "key"
                      ],
                      "complexity_level": "very_simple",
                      "context_situation": "Requesting a room key at check-in.",
                      "phonetic_features": [
                        "linking_sounds"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Time for check-in.",
                      "introduces_new": [
                        "check-in"
                      ],
                      "vocabulary_used": [
                        "check-in"
                      ],
                      "complexity_level": "very_simple",
                      "context_situation": "Arriving at the hotel for check-in.",
                      "phonetic_features": [
                        "stress_pattern",
                        "challenging_sounds",
                        "stress_pattern_practice"
                      ],
                      "pronunciation_notes": "Focus on sounds: ʃ",
                      "reinforces_previous": []
                    },
                    {
                      "text": "We check out tomorrow.",
                      "introduces_new": [],
                      "vocabulary_used": [],
                      "complexity_level": "simple",
                      "context_situation": "Discussing departure plans.",
                      "phonetic_features": [
                        "stress_pattern"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Three nights, please.",
                      "introduces_new": [
                        "night"
                      ],
                      "vocabulary_used": [
                        "night"
                      ],
                      "complexity_level": "very_simple",
                      "context_situation": "Booking a hotel stay for three nights.",
                      "phonetic_features": [
                        "linking_sounds"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Does it have amenities?",
                      "introduces_new": [],
                      "vocabulary_used": [],
                      "complexity_level": "simple",
                      "context_situation": "Asking about hotel amenities.",
                      "phonetic_features": [
                        "stress_pattern"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Confirm the reservation.",
                      "introduces_new": [
                        "confirm",
                        "reservation"
                      ],
                      "vocabulary_used": [
                        "confirm",
                        "reservation"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "Finalizing the booking process.",
                      "phonetic_features": [
                        "stress_pattern",
                        "multisyllabic_focus",
                        "challenging_sounds",
                        "stress_pattern_practice"
                      ],
                      "pronunciation_notes": "Focus on sounds: ʃ",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Show your passport.",
                      "introduces_new": [
                        "passport"
                      ],
                      "vocabulary_used": [
                        "passport"
                      ],
                      "complexity_level": "very_simple",
                      "context_situation": "Required document at check-in.",
                      "phonetic_features": [
                        "linking_sounds"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Pay with credit card.",
                      "introduces_new": [
                        "credit card"
                      ],
                      "vocabulary_used": [
                        "credit card"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "Choosing payment method.",
                      "phonetic_features": [
                        "linking_sounds",
                        "multisyllabic_focus",
                        "stress_pattern_practice"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Is breakfast included?",
                      "introduces_new": [],
                      "vocabulary_used": [],
                      "complexity_level": "simple",
                      "context_situation": "Inquiring about breakfast as an amenity.",
                      "phonetic_features": [
                        "intonation"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Check availability.",
                      "introduces_new": [
                        "availability"
                      ],
                      "vocabulary_used": [
                        "availability"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "Asking if rooms are available.",
                      "phonetic_features": [
                        "stress_pattern",
                        "multisyllabic_focus",
                        "stress_pattern_practice"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    },
                    {
                      "text": "Room with ocean view?",
                      "introduces_new": [],
                      "vocabulary_used": [
                        "room"
                      ],
                      "complexity_level": "simple",
                      "context_situation": "Requesting a specific type of room.",
                      "phonetic_features": [
                        "intonation"
                      ],
                      "pronunciation_notes": "",
                      "reinforces_previous": []
                    }
                  ],
                  "generated_at": "2025-08-21T11:18:29.138103",
                  "vocabulary_coverage": 0.8333333333333334,
                  "contextual_coherence": 0.08333333333333333,
                  "phonetic_progression": [
                    "Sentence 1: 2 phonetic elements, avg 1.5 syllables",
                    "Sentence 2: 2 phonetic elements, avg 1.0 syllables",
                    "Sentence 3: 1 phonetic elements, avg 2.0 syllables",
                    "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
                    "Sentence 7: 2 phonetic elements, avg 3.0 syllables",
                    "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
                    "Sentence 9: 1 phonetic elements, avg 3.0 syllables",
                    "Sentence 11: 1 phonetic elements, avg 6.0 syllables",
                    "Sentence 12: 1 phonetic elements, avg 1.0 syllables"
                  ],
                  "pronunciation_patterns": [
                    "Stress patterns: 2 types across sentences",
                    "Syllable complexity: avg 2.2, max 6",
                    "Vowel focus: 3 challenging vowel sounds",
                    "Consonant focus: 1 challenging consonants"
                  ],
                  "progression_appropriateness": 1.0
                },
                "tips": {
                  "title": "TIP 6: Chunks for Hotel Conversations",
                  "examples": [
                    "Could I check in, please? My reservation is under the name Smith.",
                    "What time is check-out tomorrow?",
                    "Are there any amenities like a gym or pool?"
                  ],
                  "strategy": "chunks",
                  "explanation": "This learning strategy introduces students to 'chunks', which are pre-constructed phrases containing key vocabulary. These chunks are designed to enhance communication in specific scenarios, such as making hotel reservations or checking in. For beginners (A1 level), mastering these chunks can significantly improve their ability to engage in conversations by providing them with a toolkit of phrases for immediate use. This method not only boosts confidence but also familiarizes learners with expressions commonly used by native speakers in these contexts.",
                  "phonetic_focus": [
                    "Ligação entre palavras: Praticar a conexão suave entre palavras em um \"chunk\" para promover fluidez.",
                    "Sílabas tônicas: Identificar e enfatizar as sílabas tônicas dentro dos \"chunks\" para garantir a pronúncia natural.",
                    "Sons de vogais específicos: Focar na qualidade dos sons de vogais em palavras-chave, especialmente onde diferem significativamente do idioma nativo do aluno."
                  ],
                  "memory_techniques": [
                    "Visualize each interaction in a hotel setting when practicing the chunks. For example, picture yourself at the check-in desk, using the phrase 'Could I check in, please?' to start the conversation.",
                    "Create a mental association between each chunk and a specific hotel-related action or item. For instance, connect 'What time is check-out tomorrow?' with the action of planning your departure."
                  ],
                  "pronunciation_tips": [
                    "Para a ligação entre palavras, pratique dizer \"chunks\" lentamente no início, aumentando a velocidade à medida que se torna mais confortável, para simular a fluidez natural da fala.",
                    "Use gravações de falantes nativos dizendo os \"chunks\" para identificar a sílaba tônica e tente imitar o padrão de ênfase.",
                    "Para sons de vogais, dedique tempo para ouvir e repetir palavras individuais dentro de \"chunks\", prestando atenção especial à posição da boca e língua. Utilize recursos como diagramas de vogais para entender melhor essas posições."
                  ],
                  "selection_rationale": "1. A estratégia \"chunks\" é ideal para este vocabulário porque permite aos alunos aprenderem expressões prontas e funcionalidades específicas do idioma, como \"make a reservation\" ou \"check out\", que são frequentemente usadas no contexto de hotelaria, facilitando a comunicação real e prática nestas situações específicas.\n\n2. Ela se adequa ao nível A1 porque permite aos iniciantes memorizar blocos de linguagem como unidades inteiras, sem a necessidade de entender a complexidade gramatical por trás deles, tornando o aprendizado mais acessível e menos intimidador para quem está começando.\n\n3. Contribui para o balanceamento pedagógico ao combinar a memorização de vocabulário útil e específico com a prática de falar e ouvir, encorajando o uso ativo da língua em contextos reais, o que aumenta a confiança e a competência comunicativa dos alunos desde o início.",
                  "vocabulary_coverage": [
                    "reserve",
                    "room",
                    "key",
                    "check-in",
                    "check-out",
                    "night",
                    "amenity",
                    "reservation",
                    "confirm",
                    "passport"
                  ],
                  "practice_suggestions": [
                    "Engage in a role-play activity where one student is the hotel receptionist and the other is a guest. The guest should use the chunks to book a room, ask about amenities, and inquire about check-in and check-out times. After a few minutes, switch roles.",
                    "With a partner, write and perform a dialogue that takes place in a hotel setting. Include scenarios such as making a reservation over the phone, checking in upon arrival, and asking questions about hotel amenities, using the provided chunks."
                  ],
                  "complementary_strategies": [
                    "idiomas"
                  ]
                },
                "grammar": null,
                "qa": null,
                "assessments": null,
                "strategies_used": [
                  "chunks",
                  "chunks",
                  "chunks",
                  "chunks"
                ],
                "assessments_used": [],
                "vocabulary_taught": [
                  "reserve",
                  "room",
                  "key",
                  "check-in",
                  "check-out",
                  "night",
                  "amenity",
                  "reservation",
                  "confirm",
                  "passport",
                  "credit card",
                  "availability"
                ],
                "status": "assessments_pending",
                "quality_score": null,
                "checklist_completed": [],
                "created_at": "2025-08-19T10:13:41.081249Z",
                "updated_at": "2025-08-21T11:58:58.711282Z"
              },
              "hierarchy_context": {
                "course": {
                  "id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                  "name": "Curso de Teste Automático",
                  "language_variant": "american_english",
                  "target_levels": [
                    "A1",
                    "A2",
                    "B1"
                  ]
                },
                "book": {
                  "id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                  "name": "Book de Teste A1",
                  "target_level": "A1",
                  "sequence_order": 1
                },
                "position": {
                  "sequence_in_book": 1,
                  "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3"
                }
              },
              "content_status": {
                "has_vocabulary": true,
                "has_sentences": true,
                "has_strategies": true,
                "has_assessments": false,
                "completion_percentage": 75.0,
                "ready_for_generation": false
              },
              "progression_context": {
                "vocabulary_progression": {
                  "total_words": 0,
                  "words": []
                },
                "strategy_distribution": {},
                "assessment_balance": {},
                "recommendations": [
                  "Diversificar estratégias pedagógicas"
                ],
                "quality_metrics": {
                  "vocabulary_diversity": 0.0,
                  "strategy_diversity": 0.0
                }
              }
            },
            "message": "Unidade 'Unidade Hotel reservations and check-i...' completa",
            "timestamp": "2025-08-21T16:45:18.581142",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": [
              "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/assessments",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context",
              "PUT /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T13:45:09.382983",
          "data": {
            "success": true,
            "data": {
              "unit_info": {
                "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "title": "Unidade Hotel reservations and check-i...",
                "sequence_order": 1,
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "status": "assessments_pending"
              },
              "rag_context": {
                "taught_vocabulary": {
                  "total_words": 0,
                  "words_sample": [],
                  "vocabulary_density": 0.0
                },
                "used_strategies": {
                  "strategies": [],
                  "count": 0,
                  "diversity_score": 0
                },
                "used_assessments": {
                  "assessment_stats": {},
                  "total_activities": 0
                }
              },
              "precedent_units": [],
              "recommendations": [
                "Diversificar estratégias pedagógicas",
                "Estratégias disponíveis: ['afixacao', 'substantivos_compostos', 'colocacoes']",
                "Considerar análise fonética IPA para vocabulário",
                "Incluir padrões de pronunciação no conteúdo"
              ],
              "progression_insights": {
                "position_in_book": "1 de 8",
                "vocabulary_growth_rate": 0.0,
                "pedagogical_variety": 0,
                "completion_momentum": 0.0
              }
            },
            "message": "Contexto RAG para unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T16:45:20.433124",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": []
          }
        }
      ],
      "SENTENCES": [
        {
          "timestamp": "2025-08-21T13:47:56.193505",
          "data": {
            "success": true,
            "data": {
              "sentences": {
                "sentences": [
                  {
                    "text": "I book a room.",
                    "vocabulary_used": [
                      "book",
                      "room"
                    ],
                    "context_situation": "Making a hotel reservation.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "book",
                      "room"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "This is my key.",
                    "vocabulary_used": [
                      "key"
                    ],
                    "context_situation": "Receiving a room key at check-in.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "key"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "I check in.",
                    "vocabulary_used": [],
                    "context_situation": "Arriving at the hotel.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [],
                    "introduces_new": [],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "We check out.",
                    "vocabulary_used": [],
                    "context_situation": "Leaving the hotel.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [],
                    "introduces_new": [],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "The lobby is big.",
                    "vocabulary_used": [
                      "lobby"
                    ],
                    "context_situation": "Describing the hotel lobby.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "lobby"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "My baggage is heavy.",
                    "vocabulary_used": [
                      "baggage"
                    ],
                    "context_situation": "Talking about luggage after arrival.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "baggage"
                    ],
                    "phonetic_features": [
                      "stress_pattern",
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʒ"
                  },
                  {
                    "text": "Breakfast is at 7 AM.",
                    "vocabulary_used": [
                      "breakfast"
                    ],
                    "context_situation": "Asking about breakfast time.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "breakfast"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "The wifi is free.",
                    "vocabulary_used": [
                      "wifi"
                    ],
                    "context_situation": "Inquiring about wifi availability.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "wifi"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "Three nights, please.",
                    "vocabulary_used": [
                      "night"
                    ],
                    "context_situation": "Booking a room for a specific duration.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "night"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "I need more towels.",
                    "vocabulary_used": [
                      "towel"
                    ],
                    "context_situation": "Requesting additional towels.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "towel"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "The room has a nice view.",
                    "vocabulary_used": [
                      "room",
                      "view"
                    ],
                    "context_situation": "Describing the room's view.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "view"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  },
                  {
                    "text": "Can you confirm my stay?",
                    "vocabulary_used": [
                      "confirm",
                      "stay"
                    ],
                    "context_situation": "Asking for booking confirmation.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "confirm",
                      "stay"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": ""
                  }
                ],
                "vocabulary_coverage": 0.8,
                "contextual_coherence": 0.08333333333333333,
                "progression_appropriateness": 1.0,
                "phonetic_progression": [
                  "Sentence 1: 2 phonetic elements, avg 1.0 syllables",
                  "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 5: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 6: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 7: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 9: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 10: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 11: 2 phonetic elements, avg 1.0 syllables",
                  "Sentence 12: 2 phonetic elements, avg 1.5 syllables"
                ],
                "pronunciation_patterns": [
                  "Stress patterns: 1 types across sentences",
                  "Syllable complexity: avg 1.5, max 2",
                  "Vowel focus: 4 challenging vowel sounds",
                  "Consonant focus: 1 challenging consonants"
                ],
                "generated_at": "2025-08-21T16:48:06.504565"
              },
              "generation_stats": {
                "total_sentences": 12,
                "vocabulary_coverage": "80.0%",
                "contextual_coherence": "8.3%",
                "processing_time": "34.90s"
              },
              "unit_progression": {
                "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                "previous_status": "sentences_pending",
                "new_status": "content_pending",
                "next_step": "Gerar estratégias (TIPS ou GRAMMAR)"
              },
              "rag_context_used": {
                "taught_vocabulary_count": 0,
                "reinforcement_words": 0,
                "progression_level": "basic_introduction"
              }
            },
            "message": "Sentences geradas com sucesso para unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T16:48:06.903145",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": [
              "Gerar TIPS",
              "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
              "Verificar contexto RAG atualizado",
              "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T13:47:56.760785",
          "data": {
            "success": true,
            "data": {
              "sentences": {
                "sentences": [
                  {
                    "text": "I book a room.",
                    "introduces_new": [
                      "book",
                      "room"
                    ],
                    "vocabulary_used": [
                      "book",
                      "room"
                    ],
                    "complexity_level": "very_simple",
                    "context_situation": "Making a hotel reservation.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "This is my key.",
                    "introduces_new": [
                      "key"
                    ],
                    "vocabulary_used": [
                      "key"
                    ],
                    "complexity_level": "very_simple",
                    "context_situation": "Receiving a room key at check-in.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "I check in.",
                    "introduces_new": [],
                    "vocabulary_used": [],
                    "complexity_level": "very_simple",
                    "context_situation": "Arriving at the hotel.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "We check out.",
                    "introduces_new": [],
                    "vocabulary_used": [],
                    "complexity_level": "very_simple",
                    "context_situation": "Leaving the hotel.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "The lobby is big.",
                    "introduces_new": [
                      "lobby"
                    ],
                    "vocabulary_used": [
                      "lobby"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Describing the hotel lobby.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "My baggage is heavy.",
                    "introduces_new": [
                      "baggage"
                    ],
                    "vocabulary_used": [
                      "baggage"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Talking about luggage after arrival.",
                    "phonetic_features": [
                      "stress_pattern",
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʒ",
                    "reinforces_previous": []
                  },
                  {
                    "text": "Breakfast is at 7 AM.",
                    "introduces_new": [
                      "breakfast"
                    ],
                    "vocabulary_used": [
                      "breakfast"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Asking about breakfast time.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "The wifi is free.",
                    "introduces_new": [
                      "wifi"
                    ],
                    "vocabulary_used": [
                      "wifi"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Inquiring about wifi availability.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "Three nights, please.",
                    "introduces_new": [
                      "night"
                    ],
                    "vocabulary_used": [
                      "night"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Booking a room for a specific duration.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "I need more towels.",
                    "introduces_new": [
                      "towel"
                    ],
                    "vocabulary_used": [
                      "towel"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Requesting additional towels.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "The room has a nice view.",
                    "introduces_new": [
                      "view"
                    ],
                    "vocabulary_used": [
                      "room",
                      "view"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Describing the room's view.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  },
                  {
                    "text": "Can you confirm my stay?",
                    "introduces_new": [
                      "confirm",
                      "stay"
                    ],
                    "vocabulary_used": [
                      "confirm",
                      "stay"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Asking for booking confirmation.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": "",
                    "reinforces_previous": []
                  }
                ],
                "generated_at": "2025-08-21T16:48:06.504565",
                "vocabulary_coverage": 0.8,
                "contextual_coherence": 0.08333333333333333,
                "phonetic_progression": [
                  "Sentence 1: 2 phonetic elements, avg 1.0 syllables",
                  "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 5: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 6: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 7: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 9: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 10: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 11: 2 phonetic elements, avg 1.0 syllables",
                  "Sentence 12: 2 phonetic elements, avg 1.5 syllables"
                ],
                "pronunciation_patterns": [
                  "Stress patterns: 1 types across sentences",
                  "Syllable complexity: avg 1.5, max 2",
                  "Vowel focus: 4 challenging vowel sounds",
                  "Consonant focus: 1 challenging consonants"
                ],
                "progression_appropriateness": 1.0
              },
              "analysis": {
                "total_sentences": 12,
                "unique_vocabulary_used": 12,
                "vocabulary_coverage": 0.8,
                "complexity_distribution": {
                  "very_simple": 4,
                  "simple": 8
                },
                "contextual_coherence": 0.08333333333333333,
                "progression_appropriateness": 1.0
              },
              "unit_context": {
                "unit_title": "Unidade Hotel reservations and check-i...",
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "course_name": "Curso de Teste Automático",
                "book_name": "Book de Teste A1",
                "sequence_order": 1
              },
              "has_sentences": true
            },
            "message": "Sentences da unidade 'Unidade Hotel reservations and check-i...'",
            "timestamp": "2025-08-21T16:48:07.424306",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "sequence": 1
            },
            "next_suggested_actions": []
          }
        }
      ]
    },
    "WITH_IMAGE": {
      "SETUP": [
        {
          "timestamp": "2025-08-21T13:45:05.768522",
          "data": {
            "success": true,
            "data": {
              "unit": {
                "id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
                "title": "Unidade Restaurant dining experience w...",
                "sequence_order": 8,
                "status": "creating",
                "context": "Restaurant dining experience with menu, ordering food, and payment",
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "language_variant": "american_english",
                "images_count": 1
              },
              "hierarchy_context": {
                "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                "course_name": "Curso de Teste Automático",
                "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                "book_name": "Book de Teste A1",
                "book_level": "A1",
                "sequence_in_book": 8
              },
              "validation_info": {
                "is_valid": true,
                "warnings": [],
                "suggestions": []
              },
              "images_processed": 1,
              "ready_for_next_step": true
            },
            "message": "Unidade criada na sequência 8 do book 'Book de Teste A1'",
            "timestamp": "2025-08-21T16:45:17.193974",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
              "sequence": 8
            },
            "next_suggested_actions": [
              "Gerar vocabulário com RAG e fonemas IPA",
              "POST /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/vocabulary",
              "Ver contexto hierárquico RAG",
              "GET /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context",
              "Analisar imagens via MCP",
              "POST /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/analyze-images"
            ]
          }
        }
      ],
      "CONTEXT": [
        {
          "timestamp": "2025-08-21T13:45:10.805233",
          "data": {
            "success": true,
            "data": {
              "unit_data": {
                "id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
                "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                "sequence_order": 8,
                "title": "Unidade Restaurant dining experience w...",
                "main_aim": null,
                "subsidiary_aims": [],
                "context": "Restaurant dining experience with menu, ordering food, and payment",
                "cefr_level": "A1",
                "language_variant": "american_english",
                "unit_type": "lexical_unit",
                "images": [
                  {
                    "size": 118,
                    "base64": "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEklEQVR4nGP4DwAAAAABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJRU5ErkJggg==",
                    "filename": "restaurant_scene.png",
                    "is_primary": true,
                    "description": "Primeira imagem - análise pendente",
                    "content_type": "image/png"
                  }
                ],
                "vocabulary": null,
                "sentences": null,
                "tips": null,
                "grammar": null,
                "qa": null,
                "assessments": null,
                "strategies_used": [],
                "assessments_used": [],
                "vocabulary_taught": [],
                "status": "creating",
                "quality_score": null,
                "checklist_completed": [],
                "created_at": "2025-08-21T16:45:16.850980Z",
                "updated_at": "2025-08-21T16:45:17.092524Z"
              },
              "hierarchy_context": {
                "course": {
                  "id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
                  "name": "Curso de Teste Automático",
                  "language_variant": "american_english",
                  "target_levels": [
                    "A1",
                    "A2",
                    "B1"
                  ]
                },
                "book": {
                  "id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
                  "name": "Book de Teste A1",
                  "target_level": "A1",
                  "sequence_order": 1
                },
                "position": {
                  "sequence_in_book": 8,
                  "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e"
                }
              },
              "content_status": {
                "has_vocabulary": false,
                "has_sentences": false,
                "has_strategies": false,
                "has_assessments": false,
                "completion_percentage": 0.0,
                "ready_for_generation": true
              },
              "progression_context": {
                "vocabulary_progression": {
                  "total_words": 44,
                  "words": [
                    "amenity",
                    "availability",
                    "bill",
                    "bottle",
                    "brush",
                    "check-in",
                    "check-out",
                    "chicken",
                    "confirm",
                    "cook"
                  ]
                },
                "strategy_distribution": {
                  "chunks": 1
                },
                "assessment_balance": {},
                "recommendations": [
                  "Diversificar estratégias pedagógicas"
                ],
                "quality_metrics": {
                  "vocabulary_diversity": 1.0,
                  "strategy_diversity": 1.0
                }
              }
            },
            "message": "Unidade 'Unidade Restaurant dining experience w...' completa",
            "timestamp": "2025-08-21T16:45:21.812817",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
              "sequence": 8
            },
            "next_suggested_actions": [
              "POST /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/vocabulary",
              "GET /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context",
              "GET /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context",
              "PUT /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T13:45:13.068261",
          "data": {
            "success": true,
            "data": {
              "unit_info": {
                "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
                "title": "Unidade Restaurant dining experience w...",
                "sequence_order": 8,
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "status": "creating"
              },
              "rag_context": {
                "taught_vocabulary": {
                  "total_words": 44,
                  "words_sample": [
                    "amenity",
                    "availability",
                    "bill",
                    "bottle",
                    "brush",
                    "check-in",
                    "check-out",
                    "chicken",
                    "confirm",
                    "cook",
                    "credit card",
                    "delicious",
                    "dessert",
                    "drink",
                    "eat",
                    "every day",
                    "hot",
                    "key",
                    "leave",
                    "like"
                  ],
                  "vocabulary_density": 5.5
                },
                "used_strategies": {
                  "strategies": [
                    "chunks"
                  ],
                  "count": 1,
                  "diversity_score": 1.0
                },
                "used_assessments": {
                  "assessment_stats": {},
                  "total_activities": 0
                }
              },
              "precedent_units": [
                {
                  "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
                  "title": "Unidade Hotel reservations and check-i...",
                  "sequence": 1,
                  "status": "assessments_pending",
                  "vocabulary_count": 12,
                  "strategies": [
                    "chunks",
                    "chunks",
                    "chunks",
                    "chunks"
                  ],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_0d2ae96c_762d_436e_897d_f38e56ca532f",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 2,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_f0fcce6a_b06b_4673_97d2_29299bd13aad",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 3,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_0cad2215_86be_4ed8_a43c_01a546f8e292",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 4,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_94517b1a_cd3e_402a_81ea_ebc8cc711ed7",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 5,
                  "status": "sentences_pending",
                  "vocabulary_count": 15,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_b6387498_3fd4_4ff6_9cc7_fda584d08784",
                  "title": "Unidade Restaurant dining experience w...",
                  "sequence": 6,
                  "status": "creating",
                  "vocabulary_count": 0,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                },
                {
                  "unit_id": "unit_8ac71967_d794_4313_88b5_cf9cef0876ad",
                  "title": "Unidade Learning present simple tense ...",
                  "sequence": 7,
                  "status": "sentences_pending",
                  "vocabulary_count": 17,
                  "strategies": [],
                  "assessments": [],
                  "quality_score": null
                }
              ],
              "recommendations": [
                "Diversificar estratégias pedagógicas",
                "Estratégias disponíveis: ['afixacao', 'substantivos_compostos', 'colocacoes']",
                "Considerar análise fonética IPA para vocabulário",
                "Incluir padrões de pronunciação no conteúdo"
              ],
              "progression_insights": {
                "position_in_book": "8 de 8",
                "vocabulary_growth_rate": 5.5,
                "pedagogical_variety": 1,
                "completion_momentum": 0.0
              }
            },
            "message": "Contexto RAG para unidade 'Unidade Restaurant dining experience w...'",
            "timestamp": "2025-08-21T16:45:23.888064",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
              "sequence": 8
            },
            "next_suggested_actions": []
          }
        }
      ],
      "SENTENCES": [
        {
          "timestamp": "2025-08-21T13:48:42.954885",
          "data": {
            "success": true,
            "data": {
              "sentences": {
                "sentences": [
                  {
                    "text": "I like fish.",
                    "vocabulary_used": [
                      "fish"
                    ],
                    "context_situation": "Choosing a dish from the menu.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [
                      "like"
                    ],
                    "introduces_new": [
                      "fish"
                    ],
                    "phonetic_features": [
                      "stress_pattern",
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ"
                  },
                  {
                    "text": "Beef is hot.",
                    "vocabulary_used": [
                      "beef"
                    ],
                    "context_situation": "Commenting on the served dish.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [
                      "hot"
                    ],
                    "introduces_new": [
                      "beef"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "I want ice cream.",
                    "vocabulary_used": [
                      "ice cream"
                    ],
                    "context_situation": "Ordering dessert.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "ice cream"
                    ],
                    "phonetic_features": [
                      "linking_sounds",
                      "multisyllabic_focus",
                      "stress_pattern_practice"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "Pay with cash.",
                    "vocabulary_used": [
                      "cash"
                    ],
                    "context_situation": "Choosing a payment method.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [
                      "pay"
                    ],
                    "introduces_new": [
                      "cash"
                    ],
                    "phonetic_features": [
                      "stress_pattern",
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ"
                  },
                  {
                    "text": "Use a card.",
                    "vocabulary_used": [
                      "card"
                    ],
                    "context_situation": "Paying for the meal.",
                    "complexity_level": "very_simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "card"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "Eat with a fork.",
                    "vocabulary_used": [
                      "fork"
                    ],
                    "context_situation": "Using utensils.",
                    "complexity_level": "simple",
                    "reinforces_previous": [
                      "eat"
                    ],
                    "introduces_new": [
                      "fork"
                    ],
                    "phonetic_features": [
                      "linking_sounds"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "Soup needs a spoon.",
                    "vocabulary_used": [
                      "spoon"
                    ],
                    "context_situation": "Choosing utensils for food.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "spoon"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "A napkin is clean.",
                    "vocabulary_used": [
                      "napkin"
                    ],
                    "context_situation": "Commenting on table setting.",
                    "complexity_level": "simple",
                    "reinforces_previous": [],
                    "introduces_new": [
                      "napkin"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "Leave a tip.",
                    "vocabulary_used": [
                      "tip"
                    ],
                    "context_situation": "Finalizing the dining experience.",
                    "complexity_level": "simple",
                    "reinforces_previous": [
                      "leave"
                    ],
                    "introduces_new": [
                      "tip"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "The beef is delicious.",
                    "vocabulary_used": [
                      "beef"
                    ],
                    "context_situation": "Expressing satisfaction with the meal.",
                    "complexity_level": "simple",
                    "reinforces_previous": [
                      "delicious"
                    ],
                    "introduces_new": [
                      "beef"
                    ],
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null
                  },
                  {
                    "text": "I order fish and salad.",
                    "vocabulary_used": [
                      "fish"
                    ],
                    "context_situation": "Ordering a meal.",
                    "complexity_level": "simple",
                    "reinforces_previous": [
                      "order",
                      "salad"
                    ],
                    "introduces_new": [
                      "fish"
                    ],
                    "phonetic_features": [
                      "linking_sounds",
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ"
                  },
                  {
                    "text": "Can I pay with a card?",
                    "vocabulary_used": [
                      "card"
                    ],
                    "context_situation": "Asking about payment options.",
                    "complexity_level": "simple",
                    "reinforces_previous": [
                      "pay"
                    ],
                    "introduces_new": [
                      "card"
                    ],
                    "phonetic_features": [
                      "linking_sounds",
                      "intonation"
                    ],
                    "pronunciation_notes": null
                  }
                ],
                "vocabulary_coverage": 1.0,
                "contextual_coherence": 0.3333333333333333,
                "progression_appropriateness": 1.0,
                "phonetic_progression": [
                  "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 3: 1 phonetic elements, avg 3.0 syllables",
                  "Sentence 4: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 6: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 7: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 9: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 12: 1 phonetic elements, avg 1.0 syllables"
                ],
                "pronunciation_patterns": [
                  "Stress patterns: 2 types across sentences",
                  "Syllable complexity: avg 1.2, max 3",
                  "Vowel focus: 2 challenging vowel sounds",
                  "Consonant focus: 1 challenging consonants"
                ],
                "generated_at": "2025-08-21T16:48:53.123454"
              },
              "generation_stats": {
                "total_sentences": 12,
                "vocabulary_coverage": "100.0%",
                "contextual_coherence": "33.3%",
                "processing_time": "38.17s"
              },
              "unit_progression": {
                "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
                "previous_status": "sentences_pending",
                "new_status": "content_pending",
                "next_step": "Gerar estratégias (TIPS ou GRAMMAR)"
              },
              "rag_context_used": {
                "taught_vocabulary_count": 47,
                "reinforcement_words": 5,
                "progression_level": "expanding_context"
              }
            },
            "message": "Sentences geradas com sucesso para unidade 'Unidade Restaurant dining experience w...'",
            "timestamp": "2025-08-21T16:48:53.764008",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
              "sequence": 8
            },
            "next_suggested_actions": [
              "Gerar TIPS",
              "POST /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/tips",
              "Verificar contexto RAG atualizado",
              "GET /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context"
            ]
          }
        },
        {
          "timestamp": "2025-08-21T13:48:43.518984",
          "data": {
            "success": true,
            "data": {
              "sentences": {
                "sentences": [
                  {
                    "text": "I like fish.",
                    "introduces_new": [
                      "fish"
                    ],
                    "vocabulary_used": [
                      "fish"
                    ],
                    "complexity_level": "very_simple",
                    "context_situation": "Choosing a dish from the menu.",
                    "phonetic_features": [
                      "stress_pattern",
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ",
                    "reinforces_previous": [
                      "like"
                    ]
                  },
                  {
                    "text": "Beef is hot.",
                    "introduces_new": [
                      "beef"
                    ],
                    "vocabulary_used": [
                      "beef"
                    ],
                    "complexity_level": "very_simple",
                    "context_situation": "Commenting on the served dish.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": [
                      "hot"
                    ]
                  },
                  {
                    "text": "I want ice cream.",
                    "introduces_new": [
                      "ice cream"
                    ],
                    "vocabulary_used": [
                      "ice cream"
                    ],
                    "complexity_level": "very_simple",
                    "context_situation": "Ordering dessert.",
                    "phonetic_features": [
                      "linking_sounds",
                      "multisyllabic_focus",
                      "stress_pattern_practice"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "Pay with cash.",
                    "introduces_new": [
                      "cash"
                    ],
                    "vocabulary_used": [
                      "cash"
                    ],
                    "complexity_level": "very_simple",
                    "context_situation": "Choosing a payment method.",
                    "phonetic_features": [
                      "stress_pattern",
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ",
                    "reinforces_previous": [
                      "pay"
                    ]
                  },
                  {
                    "text": "Use a card.",
                    "introduces_new": [
                      "card"
                    ],
                    "vocabulary_used": [
                      "card"
                    ],
                    "complexity_level": "very_simple",
                    "context_situation": "Paying for the meal.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "Eat with a fork.",
                    "introduces_new": [
                      "fork"
                    ],
                    "vocabulary_used": [
                      "fork"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Using utensils.",
                    "phonetic_features": [
                      "linking_sounds"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": [
                      "eat"
                    ]
                  },
                  {
                    "text": "Soup needs a spoon.",
                    "introduces_new": [
                      "spoon"
                    ],
                    "vocabulary_used": [
                      "spoon"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Choosing utensils for food.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "A napkin is clean.",
                    "introduces_new": [
                      "napkin"
                    ],
                    "vocabulary_used": [
                      "napkin"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Commenting on table setting.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": []
                  },
                  {
                    "text": "Leave a tip.",
                    "introduces_new": [
                      "tip"
                    ],
                    "vocabulary_used": [
                      "tip"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Finalizing the dining experience.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": [
                      "leave"
                    ]
                  },
                  {
                    "text": "The beef is delicious.",
                    "introduces_new": [
                      "beef"
                    ],
                    "vocabulary_used": [
                      "beef"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Expressing satisfaction with the meal.",
                    "phonetic_features": [
                      "stress_pattern"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": [
                      "delicious"
                    ]
                  },
                  {
                    "text": "I order fish and salad.",
                    "introduces_new": [
                      "fish"
                    ],
                    "vocabulary_used": [
                      "fish"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Ordering a meal.",
                    "phonetic_features": [
                      "linking_sounds",
                      "challenging_sounds"
                    ],
                    "pronunciation_notes": "Focus on sounds: ʃ",
                    "reinforces_previous": [
                      "order",
                      "salad"
                    ]
                  },
                  {
                    "text": "Can I pay with a card?",
                    "introduces_new": [
                      "card"
                    ],
                    "vocabulary_used": [
                      "card"
                    ],
                    "complexity_level": "simple",
                    "context_situation": "Asking about payment options.",
                    "phonetic_features": [
                      "linking_sounds",
                      "intonation"
                    ],
                    "pronunciation_notes": null,
                    "reinforces_previous": [
                      "pay"
                    ]
                  }
                ],
                "generated_at": "2025-08-21T16:48:53.123454",
                "vocabulary_coverage": 1.0,
                "contextual_coherence": 0.3333333333333333,
                "phonetic_progression": [
                  "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 3: 1 phonetic elements, avg 3.0 syllables",
                  "Sentence 4: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 6: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 7: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
                  "Sentence 9: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
                  "Sentence 12: 1 phonetic elements, avg 1.0 syllables"
                ],
                "pronunciation_patterns": [
                  "Stress patterns: 2 types across sentences",
                  "Syllable complexity: avg 1.2, max 3",
                  "Vowel focus: 2 challenging vowel sounds",
                  "Consonant focus: 1 challenging consonants"
                ],
                "progression_appropriateness": 1.0
              },
              "analysis": {
                "total_sentences": 12,
                "unique_vocabulary_used": 9,
                "vocabulary_coverage": 1.0,
                "complexity_distribution": {
                  "very_simple": 5,
                  "simple": 7
                },
                "contextual_coherence": 0.3333333333333333,
                "progression_appropriateness": 1.0
              },
              "unit_context": {
                "unit_title": "Unidade Restaurant dining experience w...",
                "unit_type": "lexical_unit",
                "cefr_level": "A1",
                "course_name": "Curso de Teste Automático",
                "book_name": "Book de Teste A1",
                "sequence_order": 8
              },
              "has_sentences": true
            },
            "message": "Sentences da unidade 'Unidade Restaurant dining experience w...'",
            "timestamp": "2025-08-21T16:48:54.327703",
            "hierarchy_info": {
              "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
              "sequence": 8
            },
            "next_suggested_actions": []
          }
        }
      ]
    }
  },
  "results": [
    {
      "timestamp": "2025-08-21T13:45:01.784039",
      "category": "SETUP (WITH_IMAGE)",
      "endpoint": "/api/v2/books/book_2762e908_39a5_470b_8668_3b0f4026f2c1/units",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "response_size": 1371,
      "execution_time_ms": 3983.81,
      "error": null,
      "notes": "Criar unit COM imagem para teste",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit": {
            "id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
            "title": "Unidade Restaurant dining experience w...",
            "sequence_order": 8,
            "status": "creating",
            "context": "Restaurant dining experience with menu, ordering food, and payment",
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "language_variant": "american_english",
            "images_count": 1
          },
          "hierarchy_context": {
            "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
            "course_name": "Curso de Teste Automático",
            "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
            "book_name": "Book de Teste A1",
            "book_level": "A1",
            "sequence_in_book": 8
          },
          "validation_info": {
            "is_valid": true,
            "warnings": [],
            "suggestions": []
          },
          "images_processed": 1,
          "ready_for_next_step": true
        },
        "message": "Unidade criada na sequência 8 do book 'Book de Teste A1'",
        "timestamp": "2025-08-21T16:45:17.193974",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
          "sequence": 8
        },
        "next_suggested_actions": [
          "Gerar vocabulário com RAG e fonemas IPA",
          "POST /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/vocabulary",
          "Ver contexto hierárquico RAG",
          "GET /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context",
          "Analisar imagens via MCP",
          "POST /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/analyze-images"
        ]
      },
      "response_preview": "{'success': True, 'data': {'unit': {'id': 'unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e', 'title': 'Unidade Restaurant dining experience w...', 'sequence..."
    },
    {
      "timestamp": "2025-08-21T13:45:05.769891",
      "category": "CONTEXT (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 15330,
      "execution_time_ms": 1509.7,
      "error": null,
      "notes": "Unit SEM imagem - dados básicos",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_data": {
            "id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
            "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
            "sequence_order": 1,
            "title": "Unidade Hotel reservations and check-i...",
            "main_aim": null,
            "subsidiary_aims": [],
            "context": "Hotel reservations and check-in procedures. Learning how to book rooms, ask for amenities, and handle check-in/check-out processes in English.",
            "cefr_level": "A1",
            "language_variant": "american_english",
            "unit_type": "lexical_unit",
            "images": [],
            "vocabulary": {
              "items": [
                {
                  "word": "reserve",
                  "example": "I would like to reserve a room for two nights.",
                  "phoneme": "/rɪˈzɜrv/",
                  "definition": "reservar",
                  "word_class": "verb",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "room",
                  "example": "We need a double room for our stay.",
                  "phoneme": "/ruːm/",
                  "definition": "quarto",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "key",
                  "example": "Here is your key for room 205.",
                  "phoneme": "/kiː/",
                  "definition": "chave",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.9,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "check-in",
                  "example": "What time is check-in at the hotel?",
                  "phoneme": "/ˈtʃɛkˌɪn/",
                  "definition": "check-in, entrada",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "check-out",
                  "example": "You must check-out before noon.",
                  "phoneme": "/ˈtʃɛkˌaʊt/",
                  "definition": "check-out, saída",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "night",
                  "example": "How many nights will you be staying?",
                  "phoneme": "/naɪt/",
                  "definition": "noite",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "unstressed",
                  "syllable_count": 1,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 0.9,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "amenity",
                  "example": "Does the room have Wi-Fi amenity?",
                  "phoneme": "/əˈmɛnɪti/",
                  "definition": "comodidade",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 4,
                  "frequency_level": "medium",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "reservation",
                  "example": "I have a reservation under the name Smith.",
                  "phoneme": "/ˌrɛzərˈveɪʃən/",
                  "definition": "reserva",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 4,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "confirm",
                  "example": "Let me confirm your room reservation.",
                  "phoneme": "/kənˈfɜrm/",
                  "definition": "confirmar",
                  "word_class": "verb",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "medium",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "passport",
                  "example": "Please show your passport at check-in.",
                  "phoneme": "/ˈpæspɔrt/",
                  "definition": "passaporte",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 2,
                  "frequency_level": "medium",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "credit card",
                  "example": "You can pay for your room with a credit card.",
                  "phoneme": "/ˈkrɛdɪt ˌkɑrd/",
                  "definition": "cartão de crédito",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 3,
                  "frequency_level": "high",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                },
                {
                  "word": "availability",
                  "example": "What is the availability for a single room?",
                  "phoneme": "/əˌveɪləˈbɪlɪti/",
                  "definition": "disponibilidade",
                  "word_class": "noun",
                  "ipa_variant": "general_american",
                  "stress_pattern": "primary_first",
                  "syllable_count": 6,
                  "frequency_level": "medium",
                  "is_reinforcement": false,
                  "context_relevance": 1.0,
                  "first_introduced_unit": null,
                  "alternative_pronunciations": []
                }
              ],
              "total_count": 12,
              "generated_at": "2025-08-21T11:12:57.436728",
              "new_words_count": 12,
              "phoneme_coverage": {
                "coverage_score": 96,
                "total_unique_phonemes": 29
              },
              "rag_context_used": {
                "used_strategies": [],
                "progression_level": "high_frequency_basic",
                "taught_vocabulary": [],
                "vocabulary_density": 0.0
              },
              "context_relevance": 1.0,
              "progression_level": "high_frequency_basic",
              "phonetic_complexity": "complex",
              "pronunciation_variants": [
                "american_english"
              ],
              "reinforcement_words_count": 0
            },
            "sentences": {
              "sentences": [
                {
                  "text": "I reserve a room.",
                  "introduces_new": [
                    "reserve",
                    "room"
                  ],
                  "vocabulary_used": [
                    "reserve",
                    "room"
                  ],
                  "complexity_level": "very_simple",
                  "context_situation": "Making a basic hotel reservation.",
                  "phonetic_features": [
                    "stress_pattern"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Room key, please.",
                  "introduces_new": [
                    "key"
                  ],
                  "vocabulary_used": [
                    "room",
                    "key"
                  ],
                  "complexity_level": "very_simple",
                  "context_situation": "Requesting a room key at check-in.",
                  "phonetic_features": [
                    "linking_sounds"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Time for check-in.",
                  "introduces_new": [
                    "check-in"
                  ],
                  "vocabulary_used": [
                    "check-in"
                  ],
                  "complexity_level": "very_simple",
                  "context_situation": "Arriving at the hotel for check-in.",
                  "phonetic_features": [
                    "stress_pattern",
                    "challenging_sounds",
                    "stress_pattern_practice"
                  ],
                  "pronunciation_notes": "Focus on sounds: ʃ",
                  "reinforces_previous": []
                },
                {
                  "text": "We check out tomorrow.",
                  "introduces_new": [],
                  "vocabulary_used": [],
                  "complexity_level": "simple",
                  "context_situation": "Discussing departure plans.",
                  "phonetic_features": [
                    "stress_pattern"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Three nights, please.",
                  "introduces_new": [
                    "night"
                  ],
                  "vocabulary_used": [
                    "night"
                  ],
                  "complexity_level": "very_simple",
                  "context_situation": "Booking a hotel stay for three nights.",
                  "phonetic_features": [
                    "linking_sounds"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Does it have amenities?",
                  "introduces_new": [],
                  "vocabulary_used": [],
                  "complexity_level": "simple",
                  "context_situation": "Asking about hotel amenities.",
                  "phonetic_features": [
                    "stress_pattern"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Confirm the reservation.",
                  "introduces_new": [
                    "confirm",
                    "reservation"
                  ],
                  "vocabulary_used": [
                    "confirm",
                    "reservation"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "Finalizing the booking process.",
                  "phonetic_features": [
                    "stress_pattern",
                    "multisyllabic_focus",
                    "challenging_sounds",
                    "stress_pattern_practice"
                  ],
                  "pronunciation_notes": "Focus on sounds: ʃ",
                  "reinforces_previous": []
                },
                {
                  "text": "Show your passport.",
                  "introduces_new": [
                    "passport"
                  ],
                  "vocabulary_used": [
                    "passport"
                  ],
                  "complexity_level": "very_simple",
                  "context_situation": "Required document at check-in.",
                  "phonetic_features": [
                    "linking_sounds"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Pay with credit card.",
                  "introduces_new": [
                    "credit card"
                  ],
                  "vocabulary_used": [
                    "credit card"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "Choosing payment method.",
                  "phonetic_features": [
                    "linking_sounds",
                    "multisyllabic_focus",
                    "stress_pattern_practice"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Is breakfast included?",
                  "introduces_new": [],
                  "vocabulary_used": [],
                  "complexity_level": "simple",
                  "context_situation": "Inquiring about breakfast as an amenity.",
                  "phonetic_features": [
                    "intonation"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Check availability.",
                  "introduces_new": [
                    "availability"
                  ],
                  "vocabulary_used": [
                    "availability"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "Asking if rooms are available.",
                  "phonetic_features": [
                    "stress_pattern",
                    "multisyllabic_focus",
                    "stress_pattern_practice"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                },
                {
                  "text": "Room with ocean view?",
                  "introduces_new": [],
                  "vocabulary_used": [
                    "room"
                  ],
                  "complexity_level": "simple",
                  "context_situation": "Requesting a specific type of room.",
                  "phonetic_features": [
                    "intonation"
                  ],
                  "pronunciation_notes": "",
                  "reinforces_previous": []
                }
              ],
              "generated_at": "2025-08-21T11:18:29.138103",
              "vocabulary_coverage": 0.8333333333333334,
              "contextual_coherence": 0.08333333333333333,
              "phonetic_progression": [
                "Sentence 1: 2 phonetic elements, avg 1.5 syllables",
                "Sentence 2: 2 phonetic elements, avg 1.0 syllables",
                "Sentence 3: 1 phonetic elements, avg 2.0 syllables",
                "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
                "Sentence 7: 2 phonetic elements, avg 3.0 syllables",
                "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
                "Sentence 9: 1 phonetic elements, avg 3.0 syllables",
                "Sentence 11: 1 phonetic elements, avg 6.0 syllables",
                "Sentence 12: 1 phonetic elements, avg 1.0 syllables"
              ],
              "pronunciation_patterns": [
                "Stress patterns: 2 types across sentences",
                "Syllable complexity: avg 2.2, max 6",
                "Vowel focus: 3 challenging vowel sounds",
                "Consonant focus: 1 challenging consonants"
              ],
              "progression_appropriateness": 1.0
            },
            "tips": {
              "title": "TIP 6: Chunks for Hotel Conversations",
              "examples": [
                "Could I check in, please? My reservation is under the name Smith.",
                "What time is check-out tomorrow?",
                "Are there any amenities like a gym or pool?"
              ],
              "strategy": "chunks",
              "explanation": "This learning strategy introduces students to 'chunks', which are pre-constructed phrases containing key vocabulary. These chunks are designed to enhance communication in specific scenarios, such as making hotel reservations or checking in. For beginners (A1 level), mastering these chunks can significantly improve their ability to engage in conversations by providing them with a toolkit of phrases for immediate use. This method not only boosts confidence but also familiarizes learners with expressions commonly used by native speakers in these contexts.",
              "phonetic_focus": [
                "Ligação entre palavras: Praticar a conexão suave entre palavras em um \"chunk\" para promover fluidez.",
                "Sílabas tônicas: Identificar e enfatizar as sílabas tônicas dentro dos \"chunks\" para garantir a pronúncia natural.",
                "Sons de vogais específicos: Focar na qualidade dos sons de vogais em palavras-chave, especialmente onde diferem significativamente do idioma nativo do aluno."
              ],
              "memory_techniques": [
                "Visualize each interaction in a hotel setting when practicing the chunks. For example, picture yourself at the check-in desk, using the phrase 'Could I check in, please?' to start the conversation.",
                "Create a mental association between each chunk and a specific hotel-related action or item. For instance, connect 'What time is check-out tomorrow?' with the action of planning your departure."
              ],
              "pronunciation_tips": [
                "Para a ligação entre palavras, pratique dizer \"chunks\" lentamente no início, aumentando a velocidade à medida que se torna mais confortável, para simular a fluidez natural da fala.",
                "Use gravações de falantes nativos dizendo os \"chunks\" para identificar a sílaba tônica e tente imitar o padrão de ênfase.",
                "Para sons de vogais, dedique tempo para ouvir e repetir palavras individuais dentro de \"chunks\", prestando atenção especial à posição da boca e língua. Utilize recursos como diagramas de vogais para entender melhor essas posições."
              ],
              "selection_rationale": "1. A estratégia \"chunks\" é ideal para este vocabulário porque permite aos alunos aprenderem expressões prontas e funcionalidades específicas do idioma, como \"make a reservation\" ou \"check out\", que são frequentemente usadas no contexto de hotelaria, facilitando a comunicação real e prática nestas situações específicas.\n\n2. Ela se adequa ao nível A1 porque permite aos iniciantes memorizar blocos de linguagem como unidades inteiras, sem a necessidade de entender a complexidade gramatical por trás deles, tornando o aprendizado mais acessível e menos intimidador para quem está começando.\n\n3. Contribui para o balanceamento pedagógico ao combinar a memorização de vocabulário útil e específico com a prática de falar e ouvir, encorajando o uso ativo da língua em contextos reais, o que aumenta a confiança e a competência comunicativa dos alunos desde o início.",
              "vocabulary_coverage": [
                "reserve",
                "room",
                "key",
                "check-in",
                "check-out",
                "night",
                "amenity",
                "reservation",
                "confirm",
                "passport"
              ],
              "practice_suggestions": [
                "Engage in a role-play activity where one student is the hotel receptionist and the other is a guest. The guest should use the chunks to book a room, ask about amenities, and inquire about check-in and check-out times. After a few minutes, switch roles.",
                "With a partner, write and perform a dialogue that takes place in a hotel setting. Include scenarios such as making a reservation over the phone, checking in upon arrival, and asking questions about hotel amenities, using the provided chunks."
              ],
              "complementary_strategies": [
                "idiomas"
              ]
            },
            "grammar": null,
            "qa": null,
            "assessments": null,
            "strategies_used": [
              "chunks",
              "chunks",
              "chunks",
              "chunks"
            ],
            "assessments_used": [],
            "vocabulary_taught": [
              "reserve",
              "room",
              "key",
              "check-in",
              "check-out",
              "night",
              "amenity",
              "reservation",
              "confirm",
              "passport",
              "credit card",
              "availability"
            ],
            "status": "assessments_pending",
            "quality_score": null,
            "checklist_completed": [],
            "created_at": "2025-08-19T10:13:41.081249Z",
            "updated_at": "2025-08-21T11:58:58.711282Z"
          },
          "hierarchy_context": {
            "course": {
              "id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "name": "Curso de Teste Automático",
              "language_variant": "american_english",
              "target_levels": [
                "A1",
                "A2",
                "B1"
              ]
            },
            "book": {
              "id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "name": "Book de Teste A1",
              "target_level": "A1",
              "sequence_order": 1
            },
            "position": {
              "sequence_in_book": 1,
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3"
            }
          },
          "content_status": {
            "has_vocabulary": true,
            "has_sentences": true,
            "has_strategies": true,
            "has_assessments": false,
            "completion_percentage": 75.0,
            "ready_for_generation": false
          },
          "progression_context": {
            "vocabulary_progression": {
              "total_words": 0,
              "words": []
            },
            "strategy_distribution": {},
            "assessment_balance": {},
            "recommendations": [
              "Diversificar estratégias pedagógicas"
            ],
            "quality_metrics": {
              "vocabulary_diversity": 0.0,
              "strategy_diversity": 0.0
            }
          }
        },
        "message": "Unidade 'Unidade Hotel reservations and check-i...' completa",
        "timestamp": "2025-08-21T16:45:18.581142",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": [
          "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/assessments",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context",
          "PUT /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3"
        ]
      },
      "response_preview": "{'success': True, 'data': {'unit_data': {'id': 'unit_e7bbcdea_e580_461e_89d2_271750de7ba3', 'course_id': 'course_5e19fe18_c172_4f43_9c0a_202293325115'..."
    },
    {
      "timestamp": "2025-08-21T13:45:07.770593",
      "category": "CONTEXT (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 1205,
      "execution_time_ms": 1611.84,
      "error": null,
      "notes": "Unit SEM imagem - contexto RAG",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_info": {
            "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "title": "Unidade Hotel reservations and check-i...",
            "sequence_order": 1,
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "status": "assessments_pending"
          },
          "rag_context": {
            "taught_vocabulary": {
              "total_words": 0,
              "words_sample": [],
              "vocabulary_density": 0.0
            },
            "used_strategies": {
              "strategies": [],
              "count": 0,
              "diversity_score": 0
            },
            "used_assessments": {
              "assessment_stats": {},
              "total_activities": 0
            }
          },
          "precedent_units": [],
          "recommendations": [
            "Diversificar estratégias pedagógicas",
            "Estratégias disponíveis: ['afixacao', 'substantivos_compostos', 'colocacoes']",
            "Considerar análise fonética IPA para vocabulário",
            "Incluir padrões de pronunciação no conteúdo"
          ],
          "progression_insights": {
            "position_in_book": "1 de 8",
            "vocabulary_growth_rate": 0.0,
            "pedagogical_variety": 0,
            "completion_momentum": 0.0
          }
        },
        "message": "Contexto RAG para unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T16:45:20.433124",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'unit_info': {'unit_id': 'unit_e7bbcdea_e580_461e_89d2_271750de7ba3', 'title': 'Unidade Hotel reservations and check-i...',..."
    },
    {
      "timestamp": "2025-08-21T13:45:09.771834",
      "category": "CONTEXT (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 2657,
      "execution_time_ms": 1032.86,
      "error": null,
      "notes": "Unit COM imagem - dados básicos",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_data": {
            "id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
            "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
            "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
            "sequence_order": 8,
            "title": "Unidade Restaurant dining experience w...",
            "main_aim": null,
            "subsidiary_aims": [],
            "context": "Restaurant dining experience with menu, ordering food, and payment",
            "cefr_level": "A1",
            "language_variant": "american_english",
            "unit_type": "lexical_unit",
            "images": [
              {
                "size": 118,
                "base64": "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEklEQVR4nGP4DwAAAAABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJRU5ErkJggg==",
                "filename": "restaurant_scene.png",
                "is_primary": true,
                "description": "Primeira imagem - análise pendente",
                "content_type": "image/png"
              }
            ],
            "vocabulary": null,
            "sentences": null,
            "tips": null,
            "grammar": null,
            "qa": null,
            "assessments": null,
            "strategies_used": [],
            "assessments_used": [],
            "vocabulary_taught": [],
            "status": "creating",
            "quality_score": null,
            "checklist_completed": [],
            "created_at": "2025-08-21T16:45:16.850980Z",
            "updated_at": "2025-08-21T16:45:17.092524Z"
          },
          "hierarchy_context": {
            "course": {
              "id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
              "name": "Curso de Teste Automático",
              "language_variant": "american_english",
              "target_levels": [
                "A1",
                "A2",
                "B1"
              ]
            },
            "book": {
              "id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
              "name": "Book de Teste A1",
              "target_level": "A1",
              "sequence_order": 1
            },
            "position": {
              "sequence_in_book": 8,
              "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e"
            }
          },
          "content_status": {
            "has_vocabulary": false,
            "has_sentences": false,
            "has_strategies": false,
            "has_assessments": false,
            "completion_percentage": 0.0,
            "ready_for_generation": true
          },
          "progression_context": {
            "vocabulary_progression": {
              "total_words": 44,
              "words": [
                "amenity",
                "availability",
                "bill",
                "bottle",
                "brush",
                "check-in",
                "check-out",
                "chicken",
                "confirm",
                "cook"
              ]
            },
            "strategy_distribution": {
              "chunks": 1
            },
            "assessment_balance": {},
            "recommendations": [
              "Diversificar estratégias pedagógicas"
            ],
            "quality_metrics": {
              "vocabulary_diversity": 1.0,
              "strategy_diversity": 1.0
            }
          }
        },
        "message": "Unidade 'Unidade Restaurant dining experience w...' completa",
        "timestamp": "2025-08-21T16:45:21.812817",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
          "sequence": 8
        },
        "next_suggested_actions": [
          "POST /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/vocabulary",
          "GET /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context",
          "GET /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context",
          "PUT /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e"
        ]
      },
      "response_preview": "{'success': True, 'data': {'unit_data': {'id': 'unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e', 'course_id': 'course_5e19fe18_c172_4f43_9c0a_202293325115'..."
    },
    {
      "timestamp": "2025-08-21T13:45:11.773801",
      "category": "CONTEXT (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 2970,
      "execution_time_ms": 1293.92,
      "error": null,
      "notes": "Unit COM imagem - contexto RAG",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "unit_info": {
            "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
            "title": "Unidade Restaurant dining experience w...",
            "sequence_order": 8,
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "status": "creating"
          },
          "rag_context": {
            "taught_vocabulary": {
              "total_words": 44,
              "words_sample": [
                "amenity",
                "availability",
                "bill",
                "bottle",
                "brush",
                "check-in",
                "check-out",
                "chicken",
                "confirm",
                "cook",
                "credit card",
                "delicious",
                "dessert",
                "drink",
                "eat",
                "every day",
                "hot",
                "key",
                "leave",
                "like"
              ],
              "vocabulary_density": 5.5
            },
            "used_strategies": {
              "strategies": [
                "chunks"
              ],
              "count": 1,
              "diversity_score": 1.0
            },
            "used_assessments": {
              "assessment_stats": {},
              "total_activities": 0
            }
          },
          "precedent_units": [
            {
              "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
              "title": "Unidade Hotel reservations and check-i...",
              "sequence": 1,
              "status": "assessments_pending",
              "vocabulary_count": 12,
              "strategies": [
                "chunks",
                "chunks",
                "chunks",
                "chunks"
              ],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_0d2ae96c_762d_436e_897d_f38e56ca532f",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 2,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_f0fcce6a_b06b_4673_97d2_29299bd13aad",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 3,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_0cad2215_86be_4ed8_a43c_01a546f8e292",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 4,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_94517b1a_cd3e_402a_81ea_ebc8cc711ed7",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 5,
              "status": "sentences_pending",
              "vocabulary_count": 15,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_b6387498_3fd4_4ff6_9cc7_fda584d08784",
              "title": "Unidade Restaurant dining experience w...",
              "sequence": 6,
              "status": "creating",
              "vocabulary_count": 0,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            },
            {
              "unit_id": "unit_8ac71967_d794_4313_88b5_cf9cef0876ad",
              "title": "Unidade Learning present simple tense ...",
              "sequence": 7,
              "status": "sentences_pending",
              "vocabulary_count": 17,
              "strategies": [],
              "assessments": [],
              "quality_score": null
            }
          ],
          "recommendations": [
            "Diversificar estratégias pedagógicas",
            "Estratégias disponíveis: ['afixacao', 'substantivos_compostos', 'colocacoes']",
            "Considerar análise fonética IPA para vocabulário",
            "Incluir padrões de pronunciação no conteúdo"
          ],
          "progression_insights": {
            "position_in_book": "8 de 8",
            "vocabulary_growth_rate": 5.5,
            "pedagogical_variety": 1,
            "completion_momentum": 0.0
          }
        },
        "message": "Contexto RAG para unidade 'Unidade Restaurant dining experience w...'",
        "timestamp": "2025-08-21T16:45:23.888064",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
          "sequence": 8
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'unit_info': {'unit_id': 'unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e', 'title': 'Unidade Restaurant dining experience w...',..."
    },
    {
      "timestamp": "2025-08-21T13:45:19.774193",
      "category": "VOCABULARY (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/vocabulary",
      "method": "POST",
      "status_code": 0,
      "success": false,
      "response_size": 0,
      "execution_time_ms": 60034.91,
      "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=60)",
      "notes": "Vocabulário baseado em contexto (hotel)",
      "unit_type": "NO_IMAGE",
      "response_data": {},
      "response_preview": "Error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=60)"
    },
    {
      "timestamp": "2025-08-21T13:46:19.809611",
      "category": "VOCABULARY (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/vocabulary",
      "method": "POST",
      "status_code": 0,
      "success": false,
      "response_size": 0,
      "execution_time_ms": 60031.33,
      "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=60)",
      "notes": "Vocabulário baseado em imagem (restaurante)",
      "unit_type": "WITH_IMAGE",
      "response_data": {},
      "response_preview": "Error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=60)"
    },
    {
      "timestamp": "2025-08-21T13:47:19.842937",
      "category": "SENTENCES (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/sentences",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "response_size": 5067,
      "execution_time_ms": 36350.03,
      "error": null,
      "notes": "Sentenças contextuais (hotel procedures)",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "sentences": {
            "sentences": [
              {
                "text": "I book a room.",
                "vocabulary_used": [
                  "book",
                  "room"
                ],
                "context_situation": "Making a hotel reservation.",
                "complexity_level": "very_simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "book",
                  "room"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "This is my key.",
                "vocabulary_used": [
                  "key"
                ],
                "context_situation": "Receiving a room key at check-in.",
                "complexity_level": "very_simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "key"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "I check in.",
                "vocabulary_used": [],
                "context_situation": "Arriving at the hotel.",
                "complexity_level": "very_simple",
                "reinforces_previous": [],
                "introduces_new": [],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "We check out.",
                "vocabulary_used": [],
                "context_situation": "Leaving the hotel.",
                "complexity_level": "very_simple",
                "reinforces_previous": [],
                "introduces_new": [],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "The lobby is big.",
                "vocabulary_used": [
                  "lobby"
                ],
                "context_situation": "Describing the hotel lobby.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "lobby"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "My baggage is heavy.",
                "vocabulary_used": [
                  "baggage"
                ],
                "context_situation": "Talking about luggage after arrival.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "baggage"
                ],
                "phonetic_features": [
                  "stress_pattern",
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ʒ"
              },
              {
                "text": "Breakfast is at 7 AM.",
                "vocabulary_used": [
                  "breakfast"
                ],
                "context_situation": "Asking about breakfast time.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "breakfast"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "The wifi is free.",
                "vocabulary_used": [
                  "wifi"
                ],
                "context_situation": "Inquiring about wifi availability.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "wifi"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "Three nights, please.",
                "vocabulary_used": [
                  "night"
                ],
                "context_situation": "Booking a room for a specific duration.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "night"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "I need more towels.",
                "vocabulary_used": [
                  "towel"
                ],
                "context_situation": "Requesting additional towels.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "towel"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "The room has a nice view.",
                "vocabulary_used": [
                  "room",
                  "view"
                ],
                "context_situation": "Describing the room's view.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "view"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              },
              {
                "text": "Can you confirm my stay?",
                "vocabulary_used": [
                  "confirm",
                  "stay"
                ],
                "context_situation": "Asking for booking confirmation.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "confirm",
                  "stay"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": ""
              }
            ],
            "vocabulary_coverage": 0.8,
            "contextual_coherence": 0.08333333333333333,
            "progression_appropriateness": 1.0,
            "phonetic_progression": [
              "Sentence 1: 2 phonetic elements, avg 1.0 syllables",
              "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 5: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 6: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 7: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 9: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 10: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 11: 2 phonetic elements, avg 1.0 syllables",
              "Sentence 12: 2 phonetic elements, avg 1.5 syllables"
            ],
            "pronunciation_patterns": [
              "Stress patterns: 1 types across sentences",
              "Syllable complexity: avg 1.5, max 2",
              "Vowel focus: 4 challenging vowel sounds",
              "Consonant focus: 1 challenging consonants"
            ],
            "generated_at": "2025-08-21T16:48:06.504565"
          },
          "generation_stats": {
            "total_sentences": 12,
            "vocabulary_coverage": "80.0%",
            "contextual_coherence": "8.3%",
            "processing_time": "34.90s"
          },
          "unit_progression": {
            "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
            "previous_status": "sentences_pending",
            "new_status": "content_pending",
            "next_step": "Gerar estratégias (TIPS ou GRAMMAR)"
          },
          "rag_context_used": {
            "taught_vocabulary_count": 0,
            "reinforcement_words": 0,
            "progression_level": "basic_introduction"
          }
        },
        "message": "Sentences geradas com sucesso para unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T16:48:06.903145",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": [
          "Gerar TIPS",
          "POST /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
          "Verificar contexto RAG atualizado",
          "GET /api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/context"
        ]
      },
      "response_preview": "{'success': True, 'data': {'sentences': {'sentences': [{'text': 'I book a room.', 'vocabulary_used': ['book', 'room'], 'context_situation': 'Making a ..."
    },
    {
      "timestamp": "2025-08-21T13:47:56.193505",
      "category": "SENTENCES (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/sentences",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 4874,
      "execution_time_ms": 566.74,
      "error": null,
      "notes": "Ver sentenças geradas (sem imagem)",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "sentences": {
            "sentences": [
              {
                "text": "I book a room.",
                "introduces_new": [
                  "book",
                  "room"
                ],
                "vocabulary_used": [
                  "book",
                  "room"
                ],
                "complexity_level": "very_simple",
                "context_situation": "Making a hotel reservation.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "This is my key.",
                "introduces_new": [
                  "key"
                ],
                "vocabulary_used": [
                  "key"
                ],
                "complexity_level": "very_simple",
                "context_situation": "Receiving a room key at check-in.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "I check in.",
                "introduces_new": [],
                "vocabulary_used": [],
                "complexity_level": "very_simple",
                "context_situation": "Arriving at the hotel.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "We check out.",
                "introduces_new": [],
                "vocabulary_used": [],
                "complexity_level": "very_simple",
                "context_situation": "Leaving the hotel.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "The lobby is big.",
                "introduces_new": [
                  "lobby"
                ],
                "vocabulary_used": [
                  "lobby"
                ],
                "complexity_level": "simple",
                "context_situation": "Describing the hotel lobby.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "My baggage is heavy.",
                "introduces_new": [
                  "baggage"
                ],
                "vocabulary_used": [
                  "baggage"
                ],
                "complexity_level": "simple",
                "context_situation": "Talking about luggage after arrival.",
                "phonetic_features": [
                  "stress_pattern",
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ʒ",
                "reinforces_previous": []
              },
              {
                "text": "Breakfast is at 7 AM.",
                "introduces_new": [
                  "breakfast"
                ],
                "vocabulary_used": [
                  "breakfast"
                ],
                "complexity_level": "simple",
                "context_situation": "Asking about breakfast time.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "The wifi is free.",
                "introduces_new": [
                  "wifi"
                ],
                "vocabulary_used": [
                  "wifi"
                ],
                "complexity_level": "simple",
                "context_situation": "Inquiring about wifi availability.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "Three nights, please.",
                "introduces_new": [
                  "night"
                ],
                "vocabulary_used": [
                  "night"
                ],
                "complexity_level": "simple",
                "context_situation": "Booking a room for a specific duration.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "I need more towels.",
                "introduces_new": [
                  "towel"
                ],
                "vocabulary_used": [
                  "towel"
                ],
                "complexity_level": "simple",
                "context_situation": "Requesting additional towels.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "The room has a nice view.",
                "introduces_new": [
                  "view"
                ],
                "vocabulary_used": [
                  "room",
                  "view"
                ],
                "complexity_level": "simple",
                "context_situation": "Describing the room's view.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              },
              {
                "text": "Can you confirm my stay?",
                "introduces_new": [
                  "confirm",
                  "stay"
                ],
                "vocabulary_used": [
                  "confirm",
                  "stay"
                ],
                "complexity_level": "simple",
                "context_situation": "Asking for booking confirmation.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": "",
                "reinforces_previous": []
              }
            ],
            "generated_at": "2025-08-21T16:48:06.504565",
            "vocabulary_coverage": 0.8,
            "contextual_coherence": 0.08333333333333333,
            "phonetic_progression": [
              "Sentence 1: 2 phonetic elements, avg 1.0 syllables",
              "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 5: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 6: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 7: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 9: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 10: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 11: 2 phonetic elements, avg 1.0 syllables",
              "Sentence 12: 2 phonetic elements, avg 1.5 syllables"
            ],
            "pronunciation_patterns": [
              "Stress patterns: 1 types across sentences",
              "Syllable complexity: avg 1.5, max 2",
              "Vowel focus: 4 challenging vowel sounds",
              "Consonant focus: 1 challenging consonants"
            ],
            "progression_appropriateness": 1.0
          },
          "analysis": {
            "total_sentences": 12,
            "unique_vocabulary_used": 12,
            "vocabulary_coverage": 0.8,
            "complexity_distribution": {
              "very_simple": 4,
              "simple": 8
            },
            "contextual_coherence": 0.08333333333333333,
            "progression_appropriateness": 1.0
          },
          "unit_context": {
            "unit_title": "Unidade Hotel reservations and check-i...",
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "course_name": "Curso de Teste Automático",
            "book_name": "Book de Teste A1",
            "sequence_order": 1
          },
          "has_sentences": true
        },
        "message": "Sentences da unidade 'Unidade Hotel reservations and check-i...'",
        "timestamp": "2025-08-21T16:48:07.424306",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_e7bbcdea_e580_461e_89d2_271750de7ba3",
          "sequence": 1
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'sentences': {'sentences': [{'text': 'I book a room.', 'introduces_new': ['book', 'room'], 'vocabulary_used': ['book', 'roo..."
    },
    {
      "timestamp": "2025-08-21T13:48:04.194075",
      "category": "SENTENCES (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/sentences",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "response_size": 5310,
      "execution_time_ms": 38760.27,
      "error": null,
      "notes": "Sentenças visuais (restaurant scene)",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "sentences": {
            "sentences": [
              {
                "text": "I like fish.",
                "vocabulary_used": [
                  "fish"
                ],
                "context_situation": "Choosing a dish from the menu.",
                "complexity_level": "very_simple",
                "reinforces_previous": [
                  "like"
                ],
                "introduces_new": [
                  "fish"
                ],
                "phonetic_features": [
                  "stress_pattern",
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ"
              },
              {
                "text": "Beef is hot.",
                "vocabulary_used": [
                  "beef"
                ],
                "context_situation": "Commenting on the served dish.",
                "complexity_level": "very_simple",
                "reinforces_previous": [
                  "hot"
                ],
                "introduces_new": [
                  "beef"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "I want ice cream.",
                "vocabulary_used": [
                  "ice cream"
                ],
                "context_situation": "Ordering dessert.",
                "complexity_level": "very_simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "ice cream"
                ],
                "phonetic_features": [
                  "linking_sounds",
                  "multisyllabic_focus",
                  "stress_pattern_practice"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "Pay with cash.",
                "vocabulary_used": [
                  "cash"
                ],
                "context_situation": "Choosing a payment method.",
                "complexity_level": "very_simple",
                "reinforces_previous": [
                  "pay"
                ],
                "introduces_new": [
                  "cash"
                ],
                "phonetic_features": [
                  "stress_pattern",
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ"
              },
              {
                "text": "Use a card.",
                "vocabulary_used": [
                  "card"
                ],
                "context_situation": "Paying for the meal.",
                "complexity_level": "very_simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "card"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "Eat with a fork.",
                "vocabulary_used": [
                  "fork"
                ],
                "context_situation": "Using utensils.",
                "complexity_level": "simple",
                "reinforces_previous": [
                  "eat"
                ],
                "introduces_new": [
                  "fork"
                ],
                "phonetic_features": [
                  "linking_sounds"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "Soup needs a spoon.",
                "vocabulary_used": [
                  "spoon"
                ],
                "context_situation": "Choosing utensils for food.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "spoon"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "A napkin is clean.",
                "vocabulary_used": [
                  "napkin"
                ],
                "context_situation": "Commenting on table setting.",
                "complexity_level": "simple",
                "reinforces_previous": [],
                "introduces_new": [
                  "napkin"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "Leave a tip.",
                "vocabulary_used": [
                  "tip"
                ],
                "context_situation": "Finalizing the dining experience.",
                "complexity_level": "simple",
                "reinforces_previous": [
                  "leave"
                ],
                "introduces_new": [
                  "tip"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "The beef is delicious.",
                "vocabulary_used": [
                  "beef"
                ],
                "context_situation": "Expressing satisfaction with the meal.",
                "complexity_level": "simple",
                "reinforces_previous": [
                  "delicious"
                ],
                "introduces_new": [
                  "beef"
                ],
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null
              },
              {
                "text": "I order fish and salad.",
                "vocabulary_used": [
                  "fish"
                ],
                "context_situation": "Ordering a meal.",
                "complexity_level": "simple",
                "reinforces_previous": [
                  "order",
                  "salad"
                ],
                "introduces_new": [
                  "fish"
                ],
                "phonetic_features": [
                  "linking_sounds",
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ"
              },
              {
                "text": "Can I pay with a card?",
                "vocabulary_used": [
                  "card"
                ],
                "context_situation": "Asking about payment options.",
                "complexity_level": "simple",
                "reinforces_previous": [
                  "pay"
                ],
                "introduces_new": [
                  "card"
                ],
                "phonetic_features": [
                  "linking_sounds",
                  "intonation"
                ],
                "pronunciation_notes": null
              }
            ],
            "vocabulary_coverage": 1.0,
            "contextual_coherence": 0.3333333333333333,
            "progression_appropriateness": 1.0,
            "phonetic_progression": [
              "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 3: 1 phonetic elements, avg 3.0 syllables",
              "Sentence 4: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 6: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 7: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 9: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 12: 1 phonetic elements, avg 1.0 syllables"
            ],
            "pronunciation_patterns": [
              "Stress patterns: 2 types across sentences",
              "Syllable complexity: avg 1.2, max 3",
              "Vowel focus: 2 challenging vowel sounds",
              "Consonant focus: 1 challenging consonants"
            ],
            "generated_at": "2025-08-21T16:48:53.123454"
          },
          "generation_stats": {
            "total_sentences": 12,
            "vocabulary_coverage": "100.0%",
            "contextual_coherence": "33.3%",
            "processing_time": "38.17s"
          },
          "unit_progression": {
            "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
            "previous_status": "sentences_pending",
            "new_status": "content_pending",
            "next_step": "Gerar estratégias (TIPS ou GRAMMAR)"
          },
          "rag_context_used": {
            "taught_vocabulary_count": 47,
            "reinforcement_words": 5,
            "progression_level": "expanding_context"
          }
        },
        "message": "Sentences geradas com sucesso para unidade 'Unidade Restaurant dining experience w...'",
        "timestamp": "2025-08-21T16:48:53.764008",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
          "sequence": 8
        },
        "next_suggested_actions": [
          "Gerar TIPS",
          "POST /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/tips",
          "Verificar contexto RAG atualizado",
          "GET /api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/context"
        ]
      },
      "response_preview": "{'success': True, 'data': {'sentences': {'sentences': [{'text': 'I like fish.', 'vocabulary_used': ['fish'], 'context_situation': 'Choosing a dish fro..."
    },
    {
      "timestamp": "2025-08-21T13:48:42.954885",
      "category": "SENTENCES (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/sentences",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "response_size": 5113,
      "execution_time_ms": 563.0,
      "error": null,
      "notes": "Ver sentenças geradas (com imagem)",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": true,
        "data": {
          "sentences": {
            "sentences": [
              {
                "text": "I like fish.",
                "introduces_new": [
                  "fish"
                ],
                "vocabulary_used": [
                  "fish"
                ],
                "complexity_level": "very_simple",
                "context_situation": "Choosing a dish from the menu.",
                "phonetic_features": [
                  "stress_pattern",
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ",
                "reinforces_previous": [
                  "like"
                ]
              },
              {
                "text": "Beef is hot.",
                "introduces_new": [
                  "beef"
                ],
                "vocabulary_used": [
                  "beef"
                ],
                "complexity_level": "very_simple",
                "context_situation": "Commenting on the served dish.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": [
                  "hot"
                ]
              },
              {
                "text": "I want ice cream.",
                "introduces_new": [
                  "ice cream"
                ],
                "vocabulary_used": [
                  "ice cream"
                ],
                "complexity_level": "very_simple",
                "context_situation": "Ordering dessert.",
                "phonetic_features": [
                  "linking_sounds",
                  "multisyllabic_focus",
                  "stress_pattern_practice"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "Pay with cash.",
                "introduces_new": [
                  "cash"
                ],
                "vocabulary_used": [
                  "cash"
                ],
                "complexity_level": "very_simple",
                "context_situation": "Choosing a payment method.",
                "phonetic_features": [
                  "stress_pattern",
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ",
                "reinforces_previous": [
                  "pay"
                ]
              },
              {
                "text": "Use a card.",
                "introduces_new": [
                  "card"
                ],
                "vocabulary_used": [
                  "card"
                ],
                "complexity_level": "very_simple",
                "context_situation": "Paying for the meal.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "Eat with a fork.",
                "introduces_new": [
                  "fork"
                ],
                "vocabulary_used": [
                  "fork"
                ],
                "complexity_level": "simple",
                "context_situation": "Using utensils.",
                "phonetic_features": [
                  "linking_sounds"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": [
                  "eat"
                ]
              },
              {
                "text": "Soup needs a spoon.",
                "introduces_new": [
                  "spoon"
                ],
                "vocabulary_used": [
                  "spoon"
                ],
                "complexity_level": "simple",
                "context_situation": "Choosing utensils for food.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "A napkin is clean.",
                "introduces_new": [
                  "napkin"
                ],
                "vocabulary_used": [
                  "napkin"
                ],
                "complexity_level": "simple",
                "context_situation": "Commenting on table setting.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": []
              },
              {
                "text": "Leave a tip.",
                "introduces_new": [
                  "tip"
                ],
                "vocabulary_used": [
                  "tip"
                ],
                "complexity_level": "simple",
                "context_situation": "Finalizing the dining experience.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": [
                  "leave"
                ]
              },
              {
                "text": "The beef is delicious.",
                "introduces_new": [
                  "beef"
                ],
                "vocabulary_used": [
                  "beef"
                ],
                "complexity_level": "simple",
                "context_situation": "Expressing satisfaction with the meal.",
                "phonetic_features": [
                  "stress_pattern"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": [
                  "delicious"
                ]
              },
              {
                "text": "I order fish and salad.",
                "introduces_new": [
                  "fish"
                ],
                "vocabulary_used": [
                  "fish"
                ],
                "complexity_level": "simple",
                "context_situation": "Ordering a meal.",
                "phonetic_features": [
                  "linking_sounds",
                  "challenging_sounds"
                ],
                "pronunciation_notes": "Focus on sounds: ʃ",
                "reinforces_previous": [
                  "order",
                  "salad"
                ]
              },
              {
                "text": "Can I pay with a card?",
                "introduces_new": [
                  "card"
                ],
                "vocabulary_used": [
                  "card"
                ],
                "complexity_level": "simple",
                "context_situation": "Asking about payment options.",
                "phonetic_features": [
                  "linking_sounds",
                  "intonation"
                ],
                "pronunciation_notes": null,
                "reinforces_previous": [
                  "pay"
                ]
              }
            ],
            "generated_at": "2025-08-21T16:48:53.123454",
            "vocabulary_coverage": 1.0,
            "contextual_coherence": 0.3333333333333333,
            "phonetic_progression": [
              "Sentence 1: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 2: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 3: 1 phonetic elements, avg 3.0 syllables",
              "Sentence 4: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 5: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 6: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 7: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 8: 1 phonetic elements, avg 2.0 syllables",
              "Sentence 9: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 10: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 11: 1 phonetic elements, avg 1.0 syllables",
              "Sentence 12: 1 phonetic elements, avg 1.0 syllables"
            ],
            "pronunciation_patterns": [
              "Stress patterns: 2 types across sentences",
              "Syllable complexity: avg 1.2, max 3",
              "Vowel focus: 2 challenging vowel sounds",
              "Consonant focus: 1 challenging consonants"
            ],
            "progression_appropriateness": 1.0
          },
          "analysis": {
            "total_sentences": 12,
            "unique_vocabulary_used": 9,
            "vocabulary_coverage": 1.0,
            "complexity_distribution": {
              "very_simple": 5,
              "simple": 7
            },
            "contextual_coherence": 0.3333333333333333,
            "progression_appropriateness": 1.0
          },
          "unit_context": {
            "unit_title": "Unidade Restaurant dining experience w...",
            "unit_type": "lexical_unit",
            "cefr_level": "A1",
            "course_name": "Curso de Teste Automático",
            "book_name": "Book de Teste A1",
            "sequence_order": 8
          },
          "has_sentences": true
        },
        "message": "Sentences da unidade 'Unidade Restaurant dining experience w...'",
        "timestamp": "2025-08-21T16:48:54.327703",
        "hierarchy_info": {
          "course_id": "course_5e19fe18_c172_4f43_9c0a_202293325115",
          "book_id": "book_2762e908_39a5_470b_8668_3b0f4026f2c1",
          "unit_id": "unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e",
          "sequence": 8
        },
        "next_suggested_actions": []
      },
      "response_preview": "{'success': True, 'data': {'sentences': {'sentences': [{'text': 'I like fish.', 'introduces_new': ['fish'], 'vocabulary_used': ['fish'], 'complexity_l..."
    },
    {
      "timestamp": "2025-08-21T13:48:50.956013",
      "category": "TIPS (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/tips",
      "method": "POST",
      "status_code": 0,
      "success": false,
      "response_size": 0,
      "execution_time_ms": 60039.47,
      "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=60)",
      "notes": "TIPS para contexto de hotel",
      "unit_type": "NO_IMAGE",
      "response_data": {},
      "response_preview": "Error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=60)"
    },
    {
      "timestamp": "2025-08-21T13:49:50.996481",
      "category": "TIPS (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/tips",
      "method": "POST",
      "status_code": 0,
      "success": false,
      "response_size": 0,
      "execution_time_ms": 60015.31,
      "error": "HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=60)",
      "notes": "TIPS para contexto de restaurante",
      "unit_type": "WITH_IMAGE",
      "response_data": {},
      "response_preview": "Error: HTTPConnectionPool(host='localhost', port=8000): Read timed out. (read timeout=60)"
    },
    {
      "timestamp": "2025-08-21T13:50:51.012783",
      "category": "QA (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/qa",
      "method": "POST",
      "status_code": 500,
      "success": false,
      "response_size": 110,
      "execution_time_ms": 1155.55,
      "error": "Failed",
      "notes": "Q&A sobre hotel procedures",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "detail": "Erro interno na geração de Q&A: 'UnitWithHierarchy' object has no attribute 'pronunciation_focus'"
      },
      "response_preview": "{'detail': \"Erro interno na geração de Q&A: 'UnitWithHierarchy' object has no attribute 'pronunciation_focus'\"}..."
    },
    {
      "timestamp": "2025-08-21T13:50:59.013703",
      "category": "QA (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/qa",
      "method": "POST",
      "status_code": 400,
      "success": false,
      "response_size": 785,
      "execution_time_ms": 175.63,
      "error": "Failed",
      "notes": "Q&A sobre restaurant scene",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "BAD_REQUEST",
        "message": "Requisição inválida",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/qa",
          "method": "POST",
          "request_id": "05f482de-00b7-4238-b0b3-4ddf37fdc134",
          "error_description": "400: Unidade deve ter estratégias (TIPS ou GRAMMAR) antes de gerar Q&A."
        },
        "suggestions": [
          "Verifique a estrutura da requisição",
          "Confirme que a hierarquia está correta",
          "Para uploads: máximo 10MB por imagem",
          "Consulte a documentação em /docs"
        ],
        "hierarchical_requirements": {
          "course_creation": "Requer name, target_levels, language_variant",
          "book_creation": "Requer course_id válido e target_level",
          "unit_creation": "Requer book_id válido e pelo menos 1 imagem",
          "content_generation": "Requer unit_id válido e status adequado"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'BAD_REQUEST', 'message': 'Requisição inválida', 'details': {'path': 'http://localhost:8000/api/v2/units/unit_5b128f3..."
    },
    {
      "timestamp": "2025-08-21T13:51:07.014751",
      "category": "GRAMMAR (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/grammar",
      "method": "POST",
      "status_code": 429,
      "success": false,
      "response_size": 733,
      "execution_time_ms": 36.9,
      "error": "Failed",
      "notes": "GRAMMAR para contexto de hotel + análise L1",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "RATE_LIMIT_EXCEEDED",
        "message": "Limite de requisições excedido",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/grammar",
          "method": "POST",
          "storage_type": "in-memory",
          "retry_after": 60,
          "request_id": "1ca509c4-ce3c-41c2-abe6-2947c567286e"
        },
        "suggestions": [
          "Aguarde 60 segundos antes de tentar novamente",
          "Considere implementar cache local para reduzir requests",
          "Verifique se não há requests desnecessários em loop",
          "Para operações em lote, use paginação adequada"
        ],
        "rate_limit_info": {
          "check_limits": "GET /system/rate-limits para ver limites específicos",
          "storage": "In-memory (Redis migration available)",
          "windows": "Janelas deslizantes com cleanup automático"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'RATE_LIMIT_EXCEEDED', 'message': 'Limite de requisições excedido', 'details': {'path': 'http://localhost:8000/api/v2..."
    },
    {
      "timestamp": "2025-08-21T13:51:12.015576",
      "category": "GRAMMAR (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/grammar",
      "method": "POST",
      "status_code": 429,
      "success": false,
      "response_size": 733,
      "execution_time_ms": 25.08,
      "error": "Failed",
      "notes": "GRAMMAR para contexto de restaurante + análise L1",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "RATE_LIMIT_EXCEEDED",
        "message": "Limite de requisições excedido",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/grammar",
          "method": "POST",
          "storage_type": "in-memory",
          "retry_after": 60,
          "request_id": "8da61788-f29f-4615-951c-7c62e1d62c1e"
        },
        "suggestions": [
          "Aguarde 60 segundos antes de tentar novamente",
          "Considere implementar cache local para reduzir requests",
          "Verifique se não há requests desnecessários em loop",
          "Para operações em lote, use paginação adequada"
        ],
        "rate_limit_info": {
          "check_limits": "GET /system/rate-limits para ver limites específicos",
          "storage": "In-memory (Redis migration available)",
          "windows": "Janelas deslizantes com cleanup automático"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'RATE_LIMIT_EXCEEDED', 'message': 'Limite de requisições excedido', 'details': {'path': 'http://localhost:8000/api/v2..."
    },
    {
      "timestamp": "2025-08-21T13:51:20.016198",
      "category": "ASSESSMENTS (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/assessments",
      "method": "POST",
      "status_code": 500,
      "success": false,
      "response_size": 98,
      "execution_time_ms": 1092.83,
      "error": "Failed",
      "notes": "Assessments para hotel context",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "detail": "Erro interno na geração de assessments: 'dict' object has no attribute 'openai_model'"
      },
      "response_preview": "{'detail': \"Erro interno na geração de assessments: 'dict' object has no attribute 'openai_model'\"}..."
    },
    {
      "timestamp": "2025-08-21T13:51:28.016846",
      "category": "ASSESSMENTS (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/assessments",
      "method": "POST",
      "status_code": 429,
      "success": false,
      "response_size": 51,
      "execution_time_ms": 9.14,
      "error": "Failed",
      "notes": "Assessments para restaurant scene",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "error": "Rate limit exceeded",
        "retry_after": 60
      },
      "response_preview": "{'error': 'Rate limit exceeded', 'retry_after': 60}..."
    },
    {
      "timestamp": "2025-08-21T13:51:30.018317",
      "category": "COMPARISON (NO_IMAGE)",
      "endpoint": "/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/complete-content",
      "method": "GET",
      "status_code": 404,
      "success": false,
      "response_size": 727,
      "execution_time_ms": 11.3,
      "error": "Failed",
      "notes": "Conteúdo completo - baseado em contexto",
      "unit_type": "NO_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "RESOURCE_NOT_FOUND",
        "message": "Recurso não encontrado",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_e7bbcdea_e580_461e_89d2_271750de7ba3/complete-content",
          "method": "GET",
          "request_id": "eca9f3e9-e285-4f34-ae93-2c9b09f0bb8e",
          "system_status": true
        },
        "suggestions": [
          "Verifique se o ID está correto",
          "Confirme que o recurso existe na hierarquia Course→Book→Unit",
          "Consulte /docs para endpoints disponíveis",
          "Verifique /api/overview para estrutura da API"
        ],
        "hierarchical_help": {
          "course_operations": "GET /api/v2/courses para listar cursos",
          "book_operations": "GET /api/v2/courses/{course_id}/books para books do curso",
          "unit_operations": "GET /api/v2/books/{book_id}/units para units do book"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'RESOURCE_NOT_FOUND', 'message': 'Recurso não encontrado', 'details': {'path': 'http://localhost:8000/api/v2/units/un..."
    },
    {
      "timestamp": "2025-08-21T13:51:32.019060",
      "category": "COMPARISON (WITH_IMAGE)",
      "endpoint": "/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/complete-content",
      "method": "GET",
      "status_code": 404,
      "success": false,
      "response_size": 727,
      "execution_time_ms": 10.53,
      "error": "Failed",
      "notes": "Conteúdo completo - baseado em imagem",
      "unit_type": "WITH_IMAGE",
      "response_data": {
        "success": false,
        "error_code": "RESOURCE_NOT_FOUND",
        "message": "Recurso não encontrado",
        "details": {
          "path": "http://localhost:8000/api/v2/units/unit_5b128f3d_af33_4f69_9560_00b4b69f9f9e/complete-content",
          "method": "GET",
          "request_id": "036afac6-a12d-40ee-8958-e4952be9114f",
          "system_status": true
        },
        "suggestions": [
          "Verifique se o ID está correto",
          "Confirme que o recurso existe na hierarquia Course→Book→Unit",
          "Consulte /docs para endpoints disponíveis",
          "Verifique /api/overview para estrutura da API"
        ],
        "hierarchical_help": {
          "course_operations": "GET /api/v2/courses para listar cursos",
          "book_operations": "GET /api/v2/courses/{course_id}/books para books do curso",
          "unit_operations": "GET /api/v2/books/{book_id}/units para units do book"
        }
      },
      "response_preview": "{'success': False, 'error_code': 'RESOURCE_NOT_FOUND', 'message': 'Recurso não encontrado', 'details': {'path': 'http://localhost:8000/api/v2/units/un..."
    }
  ]
}